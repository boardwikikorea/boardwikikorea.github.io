import{g as a,s as i}from"./index-ExRcJppy.js";const o=t=>t?t.substring(0,10).replace(/-/g,"."):"",u=t=>t?o(t).substring(5):"",s=(t,e)=>!t||!e?"":`${o(t)} ~ ${u(e)}`,p=t=>{if(!t)return 0;const e=t.substring(0,10).replace(/\./g,"-"),n=new Date(e),r=new Date;n.setHours(0,0,0,0),r.setHours(0,0,0,0);const c=n.getTime()-r.getTime();return Math.ceil(c/(1e3*60*60*24))},_=["homepage","ticket","instagram","youtube","kakaotalk","facebook","x","tiktok","rednote","contact","map","email","etc","thumbnail"];function l(t){return _.includes(t)}function m(t){return{id:t.id,title:t.name,periodText:s(t.start_date,t.end_date),applyPeriodText:s(t.registration_start_at,t.registration_end_at),contentHtml:t.content?t.content.replace(/\r\n|\n/g,"<br/>"):null,payinfoHtml:t.payinfo?t.payinfo.replace(/\r\n|\n/g,"<br/>"):null,countryCode:t.country_code,registration_use:t.registration_use,thumbnailUrl:t.thumbnail_url,mapUrl:t.map_url,links:(t.links??[]).map(e=>({type:l(e.type)?e.type:"etc",title:e.title,link:e.link})),schedules:(t.schedules??[]).map(e=>({date:e.date,items:e.items.map(n=>({startTime:n.start_time,endTime:n.end_time,content:n.content}))})),options:(t.options??[]).map(e=>({id:e.id,name:e.name,code:e.code,optionCategory:e.option_category,genderType:e.gender_type,roundType:e.round_type,musicRequestUse:e.music_request_use,countable:e.countable}))}}async function f(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_upcoming_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function g(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_past_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function y(t){return a(async()=>{const{data:e,error:n}=await i.from("event_public_detail_view").select(`
        id,
        name,
        name_en,
        event_cate,
        country_code,
        start_date,
        end_date,
        registration_start_at,
        registration_end_at,
        registration_use,
        content,
        payinfo,
        thumbnail_url,
        map_url,
        links,
        schedules,
        options
      `).eq("name_en",t).maybeSingle();if(n)throw n;return e?m(e):null})}export{g as a,s as b,p as c,y as d,f};
