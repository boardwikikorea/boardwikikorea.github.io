import{w as a,s as i}from"./index-B1y5lJEh.js";const s=t=>t?t.substring(0,10).replace(/-/g,"."):"",o=t=>t?s(t).substring(5):"",r=(t,e)=>!t||!e?"":`${s(t)} ~ ${o(e)}`,c=["homepage","ticket","instagram","youtube","kakaotalk","facebook","x","tiktok","rednote","contact","map","email","etc","thumbnail"];function u(t){return c.includes(t)}function _(t){return{id:t.id,title:t.name,periodText:r(t.start_date,t.end_date),applyPeriodText:r(t.registration_start_at,t.registration_end_at),contentHtml:t.content?t.content.replace(/\r\n|\n/g,"<br/>"):null,payinfoHtml:t.payinfo?t.payinfo.replace(/\r\n|\n/g,"<br/>"):null,countryCode:t.country_code,registration_use:t.registration_use,thumbnailUrl:t.thumbnail_url,mapUrl:t.map_url,links:(t.links??[]).map(e=>({type:u(e.type)?e.type:"etc",title:e.title,link:e.link})),schedules:(t.schedules??[]).map(e=>({date:e.date,items:e.items.map(n=>({startTime:n.start_time,endTime:n.end_time,content:n.content}))})),options:(t.options??[]).map(e=>({id:e.id,name:e.name,code:e.code,optionCategory:e.option_category,genderType:e.gender_type,roundType:e.round_type,musicRequestUse:e.music_request_use,countable:e.countable}))}}async function m(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_upcoming_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function d(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_past_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function p(t){return a(async()=>{const{data:e,error:n}=await i.from("event_public_detail_view").select(`
        id,
        name,
        name_en,
        event_cate,
        country_code,
        start_date,
        end_date,
        registration_start_at,
        registration_end_at,
        registration_use,
        content,
        payinfo,
        thumbnail_url,
        map_url,
        links,
        schedules,
        options
      `).eq("name_en",t).maybeSingle();if(n)throw n;return e?_(e):null})}export{d as a,r as b,p as c,m as f};
