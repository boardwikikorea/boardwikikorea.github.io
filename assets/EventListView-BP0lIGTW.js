import{d as _,g,c as i,a as y,b as l,t as s,o,u as D,y as T,A as v,m as u,B as M,e as p,C as j,F as O,h as R,D as q,i as I,p as J,z as K,r as P,x as Q}from"./index-DZ1DxPOH.js";import{_ as $}from"./SectionTitle.vue_vue_type_script_setup_true_lang-DZKDOQUF.js";import{_ as B,B as E}from"./BaseSwiper-CwYgC6in.js";import{E as S}from"./eventOptions-D5i0yBPo.js";import{f as W,a as X,b as U}from"./eventPublic-BIQdgHNO.js";const Z={key:0,class:"bg-white flex items-center justify-center px-[11px] py-[6px] leading-none"},ee={class:"text-[18px] font-bold tracking-[-0.9px] leading-none text-black"},F=_({__name:"EventMetaBadges",props:{dDayDate:{}},setup(e){const n=e,c=g(()=>{if(!n.dDayDate)return null;const r=new Date,d=new Date(n.dDayDate);r.setHours(0,0,0,0),d.setHours(0,0,0,0);const x=Math.ceil((d.getTime()-r.getTime())/(1e3*60*60*24));return x<0?"End":x===0?"D-Day":`D - ${x}`});return(r,d)=>c.value?(o(),i("div",Z,[l("span",ee,s(c.value),1)])):y("",!0)}}),te={class:"relative aspect-[560/351] w-full overflow-hidden bg-gray-200"},le=["src"],ae={key:1,class:"flex h-full w-full items-center justify-center bg-neutral-100 text-neutral-400 dark:bg-neutral-800"},ne={class:"absolute right-[16px] top-[16px] w-[36px] h-[36px] rounded-full border-2 border-black dark:border-white overflow-hidden bg-white z-10 flex items-center justify-center"},oe={class:"flex w-full flex-col gap-2"},se={class:"flex items-center gap-[8px]"},re={class:"bg-[var(--btn-default-bg)] flex items-center justify-center px-[11px] py-[6px]"},ie={class:"text-[16px] font-bold text-[var(--btn-default-text)] leading-none tracking-[-0.9px]"},ce={class:"font-['Pretendard_Variable'] text-[18px] lg:text-[24px] font-bold leading-[29px] tracking-[-0.05em] text-black dark:text-white"},de={class:"font-['Pretendard_Variable'] text-[14px] lg:text-[16px] leading-[24px] lg:leading-[28px] tracking-[-0.05em] text-black dark:text-white"},ue={key:0},V=_({__name:"EventCard",props:{slug:{},title:{},thumbnailUrl:{default:null},periodText:{},applyPeriodText:{default:null},countryCode:{default:""},category:{},dDayDate:{default:""}},setup(e){const{t:n}=D(),c=e,r=g(()=>{if(!c.category)return"";const d=S.find(x=>x.value===c.category);return d?n(d.label):c.category});return(d,x)=>{const f=j("router-link");return o(),T(f,{to:{name:"event-detail",params:{nameEn:e.slug}},class:"flex w-[280px] lg:w-[484px] flex-col items-start gap-[18px] group cursor-pointer"},{default:v(()=>[l("div",te,[e.thumbnailUrl?(o(),i("img",{key:0,src:e.thumbnailUrl,class:"h-full w-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,le)):(o(),i("div",ae,s(p(n)("user.event.placeholder.noImage")),1)),M(d.$slots,"overlay"),M(d.$slots,"badge")]),l("div",ne,[u(B,{code:e.countryCode},null,8,["code"])]),u(F,{"d-day-date":e.dDayDate},null,8,["d-day-date"]),l("div",oe,[l("div",se,[l("div",re,[l("span",ie,s(r.value),1)])]),l("h3",ce,s(e.title),1),l("div",de,[l("p",null,s(p(n)("event.common.register.eventPeriod"))+": "+s(e.periodText),1),e.applyPeriodText?(o(),i("p",ue,s(p(n)("event.common.register.applyPeriod"))+": "+s(e.applyPeriodText),1)):y("",!0)])])]),_:3},8,["to"])}}}),pe={class:"flex flex-row gap-[12px] overflow-x-auto whitespace-nowrap scrollbar-hide"},ge=_({__name:"BaseTab",props:{modelValue:{},items:{}},emits:["update:modelValue"],setup(e,{emit:n}){const c=n,r=d=>{c("update:modelValue",d)};return(d,x)=>(o(),i("ul",pe,[(o(!0),i(O,null,R(e.items,f=>(o(),i("li",{key:f.value},[u(q,{type:"default",size:"small",active:e.modelValue===f.value,onClick:h=>r(f.value)},{default:v(()=>[I(s(f.label),1)]),_:2},1032,["active","onClick"])]))),128))]))}}),xe=J(ge,[["__scopeId","data-v-75b72d2b"]]),fe={class:"relative w-full aspect-square overflow-hidden bg-neutral-100 dark:bg-neutral-800"},me=["src"],ye={key:1,class:"flex h-full w-full items-center justify-center text-neutral-400 text-sm"},ve={class:"absolute right-[16px] top-[16px] w-[36px] h-[36px] rounded-full border-2 border-black dark:border-white overflow-hidden bg-white z-10 flex items-center justify-center"},_e={class:"flex w-full flex-col gap-[13px]"},he={class:"font-['Pretendard_Variable'] text-[24px] font-bold leading-[29px] tracking-[-0.05em] text-black dark:text-white truncate w-full"},be={class:"font-['Pretendard_Variable'] text-[16px] font-normal leading-[24px] tracking-[-0.05em] text-black dark:text-white opacity-80"},we={key:1,class:"flex w-full flex-col items-start gap-[18px] opacity-50 cursor-not-allowed"},ke={class:"flex w-full flex-col gap-[13px]"},$e={class:"text-[24px] font-bold truncate"},De={class:"text-[16px] opacity-80"},Te=_({__name:"EventGridCard",props:{slug:{},title:{},periodText:{},thumbnailUrl:{default:null},countryCode:{default:""}},setup(e){const{t:n}=D();return(c,r)=>{const d=j("router-link");return e.slug?(o(),T(d,{key:0,to:{name:"event-detail",params:{nameEn:e.slug}},class:"flex w-full flex-col items-start gap-[18px] group cursor-pointer transition-transform duration-200"},{default:v(()=>[l("div",fe,[e.thumbnailUrl?(o(),i("img",{key:0,src:e.thumbnailUrl,class:"h-full w-full object-cover group-hover:scale-105 transition-transform duration-300"},null,8,me)):(o(),i("div",ye,s(p(n)("user.event.placeholder.noImage")),1)),l("div",ve,[u(B,{code:e.countryCode},null,8,["code"])])]),l("div",_e,[l("h3",he,s(e.title),1),l("div",be,s(p(n)("event.common.register.eventPeriod"))+": "+s(e.periodText),1)])]),_:1},8,["to"])):(o(),i("div",we,[r[0]||(r[0]=l("div",{class:"relative w-full aspect-square overflow-hidden bg-neutral-100 dark:bg-neutral-800"},[l("div",{class:"flex h-full w-full items-center justify-center text-neutral-400 text-sm"},"No Image")],-1)),l("div",ke,[l("h3",$e,s(e.title),1),l("div",De,s(p(n)("event.common.register.eventPeriod"))+": "+s(e.periodText),1)])]))}}}),Ce={key:0,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-x-[24px] gap-y-[60px] w-full mt-4"},Pe={key:1,class:"flex items-center justify-center w-full py-[100px] text-neutral-400 font-medium"},Ee=_({__name:"EventGrid",props:{items:{},noItemText:{default:""}},setup(e){return(n,c)=>e.items.length>0?(o(),i("div",Ce,[(o(!0),i(O,null,R(e.items,r=>(o(),T(Te,{key:r.slug,slug:r.slug,title:r.title,"period-text":r.period,"thumbnail-url":r.thumbnailUrl,"country-code":r.countryCode},null,8,["slug","title","period-text","thumbnail-url","country-code"]))),128))])):(o(),i("div",Pe,s(e.noItemText),1))}}),Ue={class:"w-full flex justify-center"},Ve={class:"bg-[#323134] flex flex-col items-center relative w-[280px] lg:w-[484px] p-5 lg:p-10"},je={class:"flex items-center gap-[8px] mb-[24px]"},Ie={key:0,class:"bg-[var(--btn-default-bg)] flex items-center justify-center px-[11px] py-[6px] leading-none"},Be={class:"text-[18px] font-bold tracking-[-0.9px] leading-none text-[var(--btn-default-text)]"},Se={class:"text-center text-white mb-[24px] w-full"},ze=["title"],Ne={class:"text-[16px] font-normal leading-[24px] tracking-[-0.8px]"},Le=["title"],Ae=["title"],Ge={class:"w-full aspect-[1.5/1] relative mb-[24px]"},Me={class:"absolute inset-0 overflow-hidden bg-gray-600"},Oe=["src"],Re={key:0,class:"absolute top-[16px] right-[16px] w-[36px] h-[36px] rounded-full border-2 border-black dark:border-white z-10 bg-white flex items-center justify-center overflow-hidden"},qe=_({__name:"EventRegisterCard",props:{slug:{},title:{},thumbnailUrl:{},periodText:{},applyPeriodText:{},dDayDate:{},countryCode:{},category:{}},setup(e){const{t:n}=D(),c=e,r=K(),d=g(()=>c.thumbnailUrl||""),x=async()=>{r.push({name:"event-apply",params:{nameEn:c.slug}})},f=g(()=>{if(!c.category)return"";const h=S.find(b=>b.value===c.category);return h?n(h.label):c.category});return(h,b)=>{const w=j("router-link");return o(),i("div",Ue,[l("div",Ve,[e.slug?(o(),T(w,{key:0,to:{name:"event-detail",params:{nameEn:e.slug}},class:"flex w-full flex-col items-center group cursor-pointer"},{default:v(()=>[l("div",je,[u(F,{"d-day-date":e.dDayDate},null,8,["d-day-date"]),f.value?(o(),i("div",Ie,[l("span",Be,s(f.value),1)])):y("",!0)]),l("div",Se,[l("h3",{class:"text-[24px] font-bold leading-normal tracking-[-1.2px] mb-[16px] w-full truncate group-hover:underline",title:e.title},s(e.title),9,ze),l("div",Ne,[l("p",{class:"mb-0 w-full truncate",title:`${p(n)("event.common.register.eventPeriod")}: ${e.periodText}`},s(p(n)("event.common.register.eventPeriod"))+": "+s(e.periodText),9,Le),e.applyPeriodText?(o(),i("p",{key:0,class:"w-full truncate",title:`${p(n)("event.common.register.applyPeriod")}: ${e.applyPeriodText}`},s(p(n)("event.common.register.applyPeriod"))+": "+s(e.applyPeriodText),9,Ae)):y("",!0)])]),l("div",Ge,[l("div",Me,[d.value?(o(),i("img",{key:0,src:d.value,alt:"Event Thumbnail",class:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"},null,8,Oe)):y("",!0)]),e.countryCode?(o(),i("div",Re,[u(B,{code:e.countryCode,class:"w-full h-full object-cover"},null,8,["code"])])):y("",!0)])]),_:1},8,["to"])):y("",!0),u(q,{size:"large",onClick:x},{default:v(()=>[I(s(p(n)("user.event.button.applyNow")),1)]),_:1})])])}}}),Fe={class:"max-w-[1280px] m-auto flex flex-col gap-[40px] py-[30px] lg:px-0 lg:py-[128px]"},He={key:0},Ye={class:"relative w-full pl-5 lg:pl-0 flex flex-col gap-3"},Je={key:1},Ke={class:"relative w-full pl-5 lg:pl-0 flex flex-col gap-3"},Qe={key:2},We={class:"relative w-full pl-5 lg:pl-0 flex flex-col gap-3"},Xe={class:"flex flex-col gap-[18px] px-5 lg:px-0"},nt=_({__name:"EventListView",setup(e){const{t:n}=D(),c=P([]),r=P([]);Q(async()=>{c.value=await W(),r.value=await X()});function d(a,m=new Date){if(!a.start_date||!a.end_date)return"waiting";const t=new Date(a.start_date),C=new Date(a.end_date),A=a.registration_start_at?new Date(a.registration_start_at):null,G=a.registration_end_at?new Date(a.registration_end_at):null;return A&&G&&A<=m&&m<=G?"registering":t<=m&&m<=C?"ongoing":"waiting"}const x=g(()=>c.value.filter(a=>d(a)==="ongoing")),f=g(()=>c.value.filter(a=>d(a)==="registering")),h=g(()=>c.value.filter(a=>d(a)==="waiting")),b=a=>{const m=["A","B","C"];return a.filter(t=>!!t.name_en).map((t,C)=>({slug:t.name_en,title:t.name,period:U(t.start_date,t.end_date),applyPeriod:U(t.registration_start_at,t.registration_end_at),dDayDate:t.registration_end_at,type:m[C%3],thumbnailUrl:t.thumbnail_url,category:t.event_cate,countryCode:t.country_code}))},w=g(()=>b(x.value)),z=g(()=>b(f.value)),N=g(()=>b(h.value)),L=g(()=>r.value.filter(a=>!!a.name_en).map(a=>({slug:a.name_en,title:a.name||"-",period:U(a.start_date,a.end_date),countryCode:a.country_code,category:a.event_cate,thumbnailUrl:a.thumbnail_url}))),k=P("all"),H=g(()=>[{value:"all",label:n("common.all")},...S.map(a=>({value:a.value,label:n(a.label)}))]),Y=g(()=>k.value==="all"?L.value:L.value.filter(a=>a.category===k.value));return(a,m)=>(o(),i("main",Fe,[w.value.length?(o(),i("section",He,[l("div",Ye,[u($,{title:p(n)("user.event.section.ongoing")},null,8,["title"]),u(E,{items:w.value,"slides-per-view":"auto","space-between":32},{item:v(({item:t})=>[u(V,{slug:t.slug,title:t.title,"thumbnail-url":t.thumbnailUrl,"period-text":t.period,"country-code":t.countryCode,"apply-period-text":t.applyPeriod},null,8,["slug","title","thumbnail-url","period-text","country-code","apply-period-text"]),I(" "+s(V))]),_:1},8,["items"])])])):y("",!0),z.value.length?(o(),i("section",Je,[l("div",Ke,[u($,{title:p(n)("user.event.section.registering")},null,8,["title"]),u(E,{items:z.value,"slides-per-view":"auto","space-between":32},{item:v(({item:t})=>[u(qe,{slug:t.slug,title:t.title,"thumbnail-url":t.thumbnailUrl,"period-text":t.period,"country-code":t.countryCode,"apply-period-text":t.applyPeriod,category:t.category,"d-day-date":t.dDayDate},null,8,["slug","title","thumbnail-url","period-text","country-code","apply-period-text","category","d-day-date"])]),_:1},8,["items"])])])):y("",!0),N.value.length?(o(),i("section",Qe,[l("div",We,[u($,{title:p(n)("user.event.section.waiting")},null,8,["title"]),u(E,{items:N.value,"slides-per-view":"auto","space-between":32},{item:v(({item:t})=>[u(V,{slug:t.slug,title:t.title,"thumbnail-url":t.thumbnailUrl,"period-text":t.period,category:t.category,"d-day-date":t.dDayDate,"country-code":t.countryCode},{overlay:v(()=>[...m[1]||(m[1]=[l("div",{class:"absolute inset-0 z-10 rounded-lg overflow-hidden transition-opacity duration-300 group-hover:opacity-0 pointer-events-none"},[l("div",{class:"absolute inset-0 bg-gradient-to-br from-orange-500 via-purple-500 to-blue-600 opacity-40 backdrop-blur-[2px]"}),l("div",{class:"relative z-10 flex h-full items-center justify-center"},[l("span",{class:"text-white font-extrabold text-2xl md:text-4xl tracking-tight select-none"}," Coming Soon ")])],-1)])]),_:1},8,["slug","title","thumbnail-url","period-text","category","d-day-date","country-code"])]),_:1},8,["items"])])])):y("",!0),l("section",null,[l("article",Xe,[u($,{title:p(n)("user.event.section.past")},null,8,["title"]),u(xe,{modelValue:k.value,"onUpdate:modelValue":m[0]||(m[0]=t=>k.value=t),items:H.value},null,8,["modelValue","items"]),u(Ee,{items:Y.value,"no-item-text":p(n)("user.event.empty.past")},null,8,["items","no-item-text"])])])]))}});export{nt as default};
