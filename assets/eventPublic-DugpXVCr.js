import{w as a,s as i}from"./index-D4CxOfRv.js";const o=t=>t?t.substring(0,10).replace(/-/g,"."):"",c=t=>t?o(t).substring(5):"",s=(t,e)=>!t||!e?"":`${o(t)} ~ ${c(e)}`,u=["homepage","ticket","instagram","youtube","kakaotalk","facebook","x","tiktok","rednote","contact","map","email","etc","thumbnail"];function _(t){return u.includes(t)}function l(t){return{id:t.id,title:t.name,startDate:t.start_date,endDate:t.end_date,periodText:s(t.start_date,t.end_date),applyPeriodText:s(t.registration_start_at,t.registration_end_at),contentHtml:t.content?t.content:null,payinfoHtml:t.payinfo?t.payinfo:null,countryCode:t.country_code,registration_use:t.registration_use,thumbnailUrl:t.thumbnail_url,mapUrl:t.map_url,links:(t.links??[]).map(e=>({type:_(e.type)?e.type:"etc",title:e.title,link:e.link})),schedules:(t.schedules??[]).map(e=>({date:e.date,items:e.items.map(n=>({startTime:n.start_time,endTime:n.end_time,content:n.content}))})),options:(t.options??[]).map(e=>({id:e.id,name:e.name,code:e.code,optionCategory:e.option_category,genderType:e.gender_type,roundType:e.round_type,musicRequestUse:e.music_request_use,countable:e.countable}))}}async function m(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_upcoming_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function f(){return a(async()=>{const{data:t,error:e}=await i.from("event_public_past_view").select(`
        id,
        name,
        name_en,
        country_code,
        start_date,
        end_date,
        registration_use,
        registration_start_at,
        registration_end_at,
        event_cate,
        thumbnail_url
      `);if(e)throw e;return t??[]})}async function p(t){return a(async()=>{const{data:e,error:n}=await i.from("event_public_detail_view").select(`
        id,
        name,
        name_en,
        event_cate,
        country_code,
        start_date,
        end_date,
        registration_start_at,
        registration_end_at,
        registration_use,
        content,
        payinfo,
        thumbnail_url,
        map_url,
        links,
        schedules,
        options
      `).eq("name_en",t).maybeSingle();if(n)throw n;return e?l(e):null})}async function y(t,e){return a(async()=>{const{data:n,error:r}=await i.from("event_content").select("content,payinfo").eq("event_id",t).eq("locale",e).maybeSingle();if(r)throw r;return n??null})}export{f as a,s as b,p as c,y as d,m as f};
