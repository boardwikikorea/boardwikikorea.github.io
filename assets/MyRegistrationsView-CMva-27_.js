import{d as k,u as w,r as p,x as $,c as t,o as s,a as h,t as e,e as o,b as a,F as C,h as M,i as f,O as R,m as x,A as y,D as b,z as I,P as V}from"./index-BP12zf0o.js";import{b as A,c as B}from"./eventPublicRegistration-D0JRh-rT.js";const N={class:"p-6"},P={key:0,class:"py-20 text-center"},z={key:1},F={class:"border-b pb-4 mb-4"},L={class:"font-bold text-lg"},T={class:"text-sm text-neutral-500"},j={class:"text-sm text-neutral-500"},O={class:"font-bold mb-2"},S={key:0,class:"list-disc ml-5"},U={key:0},W={key:1,class:"text-neutral-400"},q=k({__name:"MyEventView",props:{registrationId:{},fetcher:{type:Function}},setup(m){const{t:n}=w(),d=m,c=p(!1),l=p(null);return $(async()=>{c.value=!0;try{l.value=await d.fetcher(d.registrationId)}finally{c.value=!1}}),(u,_)=>(s(),t("div",N,[c.value?(s(),t("div",P,e(o(n)("user.event.my.loading")),1)):l.value?(s(),t("div",z,[a("div",F,[a("h3",L,e(l.value.event.name),1),a("p",T,e(o(n)("user.event.label.eventPeriod"))+": "+e(l.value.event.startDate)+" ~ "+e(l.value.event.endDate),1),a("p",j,e(o(n)("user.event.label.registeredAt"))+": "+e(l.value.registeredAt),1)]),a("div",null,[a("h4",O,e(o(n)("user.event.section.selectedOptions")),1),l.value.options.length?(s(),t("ul",S,[(s(!0),t(C,null,M(l.value.options,r=>(s(),t("li",{key:r.optionId},[f(e(r.optionName)+" ",1),r.musicText?(s(),t("span",U," ("+e(r.musicText)+")",1)):h("",!0)]))),128))])):(s(),t("p",W,e(o(n)("user.event.empty.options")),1))])])):h("",!0)]))}}),G={class:"max-w-[1280px] m-auto py-10 px-5 flex flex-col gap-8"},H={key:0},J={key:1},K={key:2,class:"grid gap-6"},Q={class:"w-full lg:w-[200px] aspect-[5/3] lg:h-[120px] bg-neutral-100 overflow-hidden shrink-0"},X=["src"],Y={class:"flex-1 flex flex-col justify-between"},Z={class:"text-xs font-bold px-2 py-1 bg-black text-white"},ee={class:"mt-2 font-bold text-lg"},te={class:"text-sm text-neutral-500"},se={class:"text-sm text-neutral-500"},ne={class:"mt-4 flex gap-2"},le=k({__name:"MyRegistrationsView",setup(m){const{t:n}=w(),d=v=>n(`event.status.registration.${v}`),c=I(),{showModal:l}=R(),u=p(!1),_=p([]),r=async()=>{u.value=!0;try{_.value=await A()}finally{u.value=!1}},D=async v=>{const g=window.innerWidth<1024;l({title:n("user.event.my.title.detail"),type:g?"bottom":"alert",contentComponent:V(q),contentComponentProps:{registrationId:v,fetcher:B}})};return $(r),(v,g)=>(s(),t("section",G,[u.value?(s(),t("div",H,e(o(n)("user.event.my.loading")),1)):_.value.length?(s(),t("div",K,[(s(!0),t(C,null,M(_.value,i=>(s(),t("article",{key:i.registrationId,class:"border-2 border-black bg-white p-5 flex flex-col lg:flex-row gap-6"},[a("div",Q,[i.thumbnailUrl?(s(),t("img",{key:0,src:i.thumbnailUrl,class:"w-full h-full object-cover"},null,8,X)):h("",!0)]),a("div",Y,[a("div",null,[a("span",Z,e(d(i.registrationState)),1),a("h3",ee,e(i.name),1),a("p",te,e(o(n)("user.event.label.eventPeriod"))+": "+e(i.startDate)+" ~ "+e(i.endDate),1),a("p",se,e(o(n)("user.event.label.registeredAt"))+": "+e(i.registeredAt),1)]),a("div",ne,[x(b,{size:"small",onClick:E=>o(c).push({name:"event-detail",params:{nameEn:i.nameEn}})},{default:y(()=>[f(e(o(n)("user.event.button.viewEvent")),1)]),_:1},8,["onClick"]),x(b,{size:"small",onClick:E=>D(i.registrationId)},{default:y(()=>[f(e(o(n)("user.event.button.viewRegistration")),1)]),_:1},8,["onClick"])])])]))),128))])):(s(),t("div",J,e(o(n)("user.event.my.empty")),1))]))}});export{le as default};
