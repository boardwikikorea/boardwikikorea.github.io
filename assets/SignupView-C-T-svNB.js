import{w as z,s as R,d as P,u as B,c as b,a as _,b as e,n as C,t as s,e as n,o as i,r as a,f as S,g as D,F as Y,h as Z,i as E,j as V,k as T,v as F,l as U,m as I,p as ee,q as te,x as re,y as L,z as le}from"./index-AF-U6qRR.js";import{u as ne}from"./profile-D8C8k1s4.js";import{B as oe}from"./BaseInputAutoCountry-D2fi_h0p.js";import{_ as se}from"./BaseCountryPhoneInput.vue_vue_type_script_setup_true_lang-B_BYlk5R.js";async function ae(){return z(async()=>{const{data:o,error:f}=await R.from("terms_version").select("id, title, version, content_url, is_required, type").eq("is_current",!0).order("created_at",{ascending:!0});if(f)throw f;return o??[]})}async function ie(o,f){return z(async()=>{for(const r of f){const{error:t}=await R.from("user_terms_agreement").update({is_agreed:r.is_agreed}).eq("user_id",o).eq("terms_id",r.terms_id);if(t)throw console.error("[updateUserTermsAgreement]",t),t}})}const de="/assets/icon_signup-DzMMaxBC.svg",ue="/assets/icon_signups-Qb4HxhM8.svg",ce={key:0,class:"w-full max-w-[640px] flex gap-3 mb-10"},pe=P({__name:"SignupStepIndicator",props:{currentStep:{}},setup(o){const{t:f}=B();return(r,t)=>o.currentStep!=="done"?(i(),b("div",ce,[e("div",{class:C(["flex items-center justify-center w-[40px] h-[40px] rounded-[9999px] text-[20px] font-bold border transition-all duration-300",o.currentStep==="terms"?"bg-[var(--btn-primary-bg)] border-[var(--btn-primary-bg)] text-white":"bg-white dark:bg-black border-[var(--btn-primary-bg)] text-[var(--btn-primary-bg)] opacity-100"])},s(n(f)("user.signup.steps.step1")),3),e("div",{class:C(["flex items-center justify-center w-[40px] h-[40px] rounded-[9999px] text-[20px] font-bold border transition-all duration-300",o.currentStep==="profile"?"bg-[var(--btn-primary-bg)] border-[var(--btn-primary-bg)] text-white":"bg-white dark:bg-black border-[var(--g-2)] dark:border-gray-700 text-[var(--g-3)] dark:text-gray-400"])},s(n(f)("user.signup.steps.step2")),3)])):_("",!0)}}),be={class:"w-full max-w-[640px]"},ge={class:"space-y-6"},xe={class:"text-[20px] font-bold text-[var(--g-6)] dark:text-white"},ve={class:"space-y-4"},me={class:"flex items-center justify-between p-5 bg-white dark:bg-[#111]"},fe={class:"flex items-center gap-4 cursor-pointer select-none flex-1"},he={class:"relative flex items-center shrink-0"},ke=["checked","onChange"],ye={key:0,class:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},we={class:"text-[18px] text-[var(--g-6)] dark:text-white font-medium"},_e=["onClick"],Ce={key:0,class:"border-t border-[var(--g-2)] dark:border-gray-700"},$e={class:"text-[15px] text-[var(--g-5)] dark:text-gray-300 leading-relaxed"},Me=["src"],je={key:1,class:"text-center text-[var(--g-3)] py-8"},Se=["disabled"],Ne=P({__name:"SignupTerms",props:{terms:{},agreedMap:{},allChecked:{type:Boolean},expandedTerms:{}},emits:["update:agreedMap","update:allChecked","toggleExpand","next"],setup(o,{emit:f}){const{t:r}=B(),t=o,c=f,h=a({...t.agreedMap}),k=a(t.allChecked);S(()=>t.agreedMap,p=>{h.value={...p}},{deep:!0}),S(()=>t.allChecked,p=>{k.value=p});function y(){k.value=!k.value;const p={...h.value};t.terms.forEach(v=>{p[v.id]=k.value}),h.value=p,c("update:allChecked",k.value),c("update:agreedMap",p)}function M(p){const v={...h.value};v[p]=!v[p],h.value=v,c("update:agreedMap",v);const x=t.terms.every(N=>v[N.id]);x!==k.value&&(k.value=x,c("update:allChecked",x))}function g(p){c("toggleExpand",p)}const $=D(()=>t.terms.filter(p=>p.is_required).every(p=>h.value[p.id]));function j(){$.value&&c("next")}return(p,v)=>(i(),b("div",be,[e("div",ge,[e("div",{class:"flex items-center gap-4 cursor-pointer",onClick:y},[e("div",{class:C(["w-10 h-10 rounded-[12px] flex items-center justify-center transition-colors shrink-0",o.allChecked?"bg-[var(--btn-primary-bg)]":"bg-[var(--g-2)]"])},[...v[0]||(v[0]=[e("svg",{class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"3"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"})],-1)])],2),e("span",xe,s(n(r)("user.signup.terms.agreeAll")),1)]),e("div",ve,[(i(!0),b(Y,null,Z(o.terms,x=>(i(),b("div",{key:x.id,class:"border-2 border-[var(--g-5)] dark:border-gray-500 overflow-hidden"},[e("div",me,[e("label",fe,[e("div",he,[e("input",{type:"checkbox",checked:o.agreedMap[x.id],onChange:N=>M(x.id),class:"sr-only"},null,40,ke),e("div",{class:C(["w-7 h-7 rounded-[8px] border-[2px] flex items-center justify-center transition-all",o.agreedMap[x.id]?"bg-[var(--btn-primary-bg)] border-[var(--btn-primary-bg)]":"bg-white dark:bg-black border-[var(--g-3)] dark:border-gray-500"])},[o.agreedMap[x.id]?(i(),b("svg",ye,[...v[1]||(v[1]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M5 13l4 4L19 7"},null,-1)])])):_("",!0)],2)]),e("span",we,[e("span",{class:C([x.is_required?"text-[var(--btn-primary-bg)] font-bold":"text-[var(--g-3)] font-bold","mr-2"])},s(x.is_required?n(r)("user.signup.terms.required"):n(r)("user.signup.terms.optional")),3),E(" "+s(x.title),1)])]),e("button",{class:"ml-4 shrink-0 p-2 hover:bg-gray-50 transition-colors",onClick:V(N=>g(x.id),["stop"])},[(i(),b("svg",{class:C(["w-6 h-6 text-[var(--g-5)] dark:text-white transition-transform duration-200",o.expandedTerms[x.id]?"rotate-180":""]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...v[2]||(v[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,_e)]),o.expandedTerms[x.id]?(i(),b("div",Ce,[e("div",$e,[x.content_url?(i(),b("iframe",{key:0,src:x.content_url,class:"w-full h-[400px]",title:"Terms Content"},null,8,Me)):(i(),b("div",je,s(n(r)("user.signup.terms.cannotLoadContent")),1))])])):_("",!0)]))),128))])]),e("button",{class:C(["w-full mt-16 h-[80px] text-[22px] font-bold transition-all",$.value?"bg-[var(--btn-primary-bg)] text-white hover:bg-[#d94e0d]":"bg-[#FFE3D4] text-white cursor-not-allowed"]),disabled:!$.value,onClick:j},s(n(r)("user.signup.terms.next")),11,Se)]))}}),Te={class:"w-full"},Ae={class:"space-y-10"},Ve={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},Pe=["placeholder"],Be={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},Ue=["placeholder"],Ee={class:"block text-[14px] text-black dark:text-white mb-4 font-bold"},qe={class:"flex items-center gap-8"},Fe={key:0,class:"w-3 h-3 rounded-full bg-[var(--btn-primary-bg)]"},Ie={class:"text-[20px] font-bold text-black dark:text-white group-hover:text-[var(--btn-primary-bg)] transition-colors"},Le={key:0,class:"w-3 h-3 rounded-full bg-[var(--btn-primary-bg)]"},De={class:"text-[20px] font-bold text-black dark:text-white group-hover:text-[var(--btn-primary-bg)] transition-colors"},ze={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},Re=["value"],Ge={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},He={class:"h-[60px] flex items-center"},Oe={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},Qe={class:"flex items-end gap-4"},We={class:"w-[100px]"},Je=["placeholder"],Ke={class:"block text-[14px] text-black dark:text-white mb-1 font-bold"},Xe=["placeholder"],Ye={class:"block text-[14px] text-black dark:text-white mb-4 font-bold"},Ze={class:"flex items-center gap-8"},et={key:0,class:"w-3 h-3 rounded-full bg-[var(--btn-primary-bg)]"},tt={class:"text-[20px] font-bold text-black dark:text-white group-hover:text-[var(--btn-primary-bg)] transition-colors"},rt={key:0,class:"w-3 h-3 rounded-full bg-[var(--btn-primary-bg)]"},lt={class:"text-[20px] font-bold text-black dark:text-white group-hover:text-[var(--btn-primary-bg)] transition-colors"},nt={key:0,class:"w-3 h-3 rounded-full bg-[var(--btn-primary-bg)]"},ot={class:"text-[20px] font-bold text-black dark:text-white group-hover:text-[var(--btn-primary-bg)] transition-colors"},st={key:0,class:"text-sm text-red-500 mt-6 text-center bg-red-50 py-3"},at={class:"flex gap-4 mt-20"},it=["disabled"],dt={key:0,class:"w-6 h-6 border-2 border-white/30 border-t-white animate-spin"},ut=P({__name:"SignupProfile",props:{email:{},nickname:{},fullName:{},gender:{},nationality:{},stance:{},phoneCountry:{},phoneNumber:{},regionAddress:{},loading:{type:Boolean},errorMessage:{}},emits:["back","submit"],setup(o,{emit:f}){const{t:r}=B(),t=o,c=f,h=a(t.nickname),k=a(t.fullName),y=a(t.gender),M=a(t.nationality),g=a(t.stance),$=a(t.phoneCountry),j=a(t.phoneNumber),p=a(t.regionAddress);S(()=>t.nickname,d=>h.value=d),S(()=>t.fullName,d=>k.value=d),S(()=>t.gender,d=>y.value=d),S(()=>t.nationality,d=>M.value=d),S(()=>t.stance,d=>g.value=d),S(()=>t.phoneCountry,d=>$.value=d),S(()=>t.phoneNumber,d=>j.value=d),S(()=>t.regionAddress,d=>p.value=d),S(M,d=>{$.value=d});const v=D(()=>!(!h.value.trim()||!k.value.trim()||!M.value||$.value&&!j.value||!$.value&&j.value));function x(d){y.value===d?y.value=null:y.value=d}function N(d){g.value===d?g.value=null:g.value=d}function q(){v.value&&c("submit",{nickname:h.value,fullName:k.value,gender:y.value,nationality:M.value,stance:g.value,contactEmail:t.email,contactPhoneCountry:$.value,contactPhone:j.value||null,regionAddress:p.value})}return(d,l)=>(i(),b("div",Te,[e("div",Ae,[e("div",null,[e("label",Ve,[E(s(n(r)("user.signup.profile.name"))+" ",1),l[16]||(l[16]=e("span",{class:"text-blue-600"},"*",-1))]),T(e("input",{"onUpdate:modelValue":l[0]||(l[0]=u=>k.value=u),type:"text",placeholder:n(r)("user.signup.profile.namePlaceholder"),class:"block w-full h-[60px] text-[24px] font-bold text-black dark:text-white border-b-[2px] border-black dark:border-white bg-transparent outline-none placeholder:text-[#C5C5C7] dark:placeholder:text-gray-500 rounded-none focus:border-black dark:focus:border-white transition-colors"},null,8,Pe),[[F,k.value]])]),e("div",null,[e("label",Be,[E(s(n(r)("user.signup.profile.nickname"))+" ",1),l[17]||(l[17]=e("span",{class:"text-blue-600"},"*",-1))]),T(e("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>h.value=u),type:"text",maxlength:"16",placeholder:n(r)("user.signup.profile.nicknamePlaceholder"),class:"block w-full h-[60px] text-[24px] font-bold text-black dark:text-white border-b-[2px] border-black dark:border-white bg-transparent outline-none placeholder:text-[#C5C5C7] dark:placeholder:text-gray-500 rounded-none focus:border-black dark:focus:border-white transition-colors"},null,8,Ue),[[F,h.value]])]),e("div",null,[e("label",Ee,[E(s(n(r)("user.signup.profile.gender"))+" ",1),l[18]||(l[18]=e("span",{class:"text-blue-600"},"*",-1))]),e("div",qe,[e("label",{class:"flex items-center gap-3 cursor-pointer group",onClick:l[3]||(l[3]=V(u=>x("male"),["prevent"]))},[T(e("input",{type:"radio",value:"male","onUpdate:modelValue":l[2]||(l[2]=u=>y.value=u),class:"sr-only"},null,512),[[U,y.value]]),e("div",{class:C(["w-6 h-6 rounded-full border-[2px] flex items-center justify-center transition-all",y.value==="male"?"border-[var(--btn-primary-bg)]":"border-black dark:border-white"])},[y.value==="male"?(i(),b("div",Fe)):_("",!0)],2),e("span",Ie,s(n(r)("user.signup.profile.genderMale")),1)]),e("label",{class:"flex items-center gap-3 cursor-pointer group",onClick:l[5]||(l[5]=V(u=>x("female"),["prevent"]))},[T(e("input",{type:"radio",value:"female","onUpdate:modelValue":l[4]||(l[4]=u=>y.value=u),class:"sr-only"},null,512),[[U,y.value]]),e("div",{class:C(["w-6 h-6 rounded-full border-[2px] flex items-center justify-center transition-all",y.value==="female"?"border-[var(--btn-primary-bg)]":"border-black dark:border-white"])},[y.value==="female"?(i(),b("div",Le)):_("",!0)],2),e("span",De,s(n(r)("user.signup.profile.genderFemale")),1)])])]),e("div",null,[e("label",ze,s(n(r)("user.signup.profile.email")),1),e("input",{value:o.email,type:"email",readonly:"",class:"block w-full h-[60px] text-[24px] font-bold text-black dark:text-white border-b-[2px] border-black dark:border-white bg-transparent outline-none placeholder:text-[#C5C5C7] dark:placeholder:text-gray-500 rounded-none"},null,8,Re)]),e("div",null,[e("label",Ge,[E(s(n(r)("user.signup.profile.nationality"))+" ",1),l[19]||(l[19]=e("span",{class:"text-blue-600"},"*",-1))]),e("div",He,[I(oe,{modelValue:M.value,"onUpdate:modelValue":l[6]||(l[6]=u=>M.value=u),"label-show":!1,class:"w-full text-[24px] font-bold !border-none !outline-none !bg-transparent !p-0 !h-[50px]"},null,8,["modelValue"])])]),e("div",null,[e("label",Oe,s(n(r)("user.signup.profile.contact")),1),e("div",Qe,[e("div",We,[I(se,{country:$.value},null,8,["country"])]),T(e("input",{"onUpdate:modelValue":l[7]||(l[7]=u=>j.value=u),type:"tel",placeholder:n(r)("user.signup.profile.contactPhonePlaceholder"),class:"block flex-1 h-[60px] text-[24px] font-bold text-black dark:text-white border-b-[2px] border-black dark:border-white bg-transparent outline-none placeholder:text-[#C5C5C7] dark:placeholder:text-gray-500 rounded-none focus:border-black dark:focus:border-white transition-colors"},null,8,Je),[[F,j.value]])])]),e("div",null,[e("label",Ke,s(n(r)("user.signup.profile.region")),1),T(e("input",{"onUpdate:modelValue":l[8]||(l[8]=u=>p.value=u),type:"text",placeholder:n(r)("user.signup.profile.regionPlaceholder"),class:"block w-full h-[60px] text-[24px] font-bold text-black dark:text-white border-b-[2px] border-black dark:border-white bg-transparent outline-none placeholder:text-[#C5C5C7] dark:placeholder:text-gray-500 rounded-none focus:border-black dark:focus:border-white transition-colors"},null,8,Xe),[[F,p.value]])]),e("div",null,[e("label",Ye,s(n(r)("user.signup.profile.stance")),1),e("div",Ze,[e("label",{class:"flex items-center gap-3 cursor-pointer group",onClick:l[10]||(l[10]=V(u=>N(null),["prevent"]))},[T(e("input",{type:"radio",value:null,"onUpdate:modelValue":l[9]||(l[9]=u=>g.value=u),class:"sr-only"},null,512),[[U,g.value]]),e("div",{class:C(["w-6 h-6 rounded-full border-[2px] flex items-center justify-center transition-all",g.value===null?"border-[var(--btn-primary-bg)]":"border-black dark:border-white"])},[g.value===null?(i(),b("div",et)):_("",!0)],2),e("span",tt,s(n(r)("user.signup.profile.stanceNotSelected")),1)]),e("label",{class:"flex items-center gap-3 cursor-pointer group",onClick:l[12]||(l[12]=V(u=>N("regular"),["prevent"]))},[T(e("input",{type:"radio",value:"regular","onUpdate:modelValue":l[11]||(l[11]=u=>g.value=u),class:"sr-only"},null,512),[[U,g.value]]),e("div",{class:C(["w-6 h-6 rounded-full border-[2px] flex items-center justify-center transition-all",g.value==="regular"?"border-[var(--btn-primary-bg)]":"border-black dark:border-white"])},[g.value==="regular"?(i(),b("div",rt)):_("",!0)],2),e("span",lt,s(n(r)("user.signup.profile.stanceRegular")),1)]),e("label",{class:"flex items-center gap-3 cursor-pointer group",onClick:l[14]||(l[14]=V(u=>N("goofy"),["prevent"]))},[T(e("input",{type:"radio",value:"goofy","onUpdate:modelValue":l[13]||(l[13]=u=>g.value=u),class:"sr-only"},null,512),[[U,g.value]]),e("div",{class:C(["w-6 h-6 rounded-full border-[2px] flex items-center justify-center transition-all",g.value==="goofy"?"border-[var(--btn-primary-bg)]":"border-black dark:border-white"])},[g.value==="goofy"?(i(),b("div",nt)):_("",!0)],2),e("span",ot,s(n(r)("user.signup.profile.stanceGoofy")),1)])])])]),o.errorMessage?(i(),b("p",st," ⚠️ "+s(o.errorMessage),1)):_("",!0),e("div",at,[e("button",{class:"flex-1 h-[68px] bg-white dark:bg-[#222] border border-black dark:border-white text-black dark:text-white text-[24px] font-bold hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",onClick:l[15]||(l[15]=u=>d.$emit("back"))},s(n(r)("user.signup.profile.prev")),1),e("button",{class:"flex-1 h-[68px] bg-[var(--btn-primary-bg)] text-white text-[24px] font-bold hover:bg-[#d94e0d] disabled:bg-[#FFE3D4] disabled:text-white disabled:cursor-not-allowed transition-all shadow-md flex items-center justify-center gap-3",disabled:!v.value||o.loading,onClick:q},[o.loading?(i(),b("span",dt)):_("",!0),e("span",null,s(n(r)("user.signup.profile.submit")),1)],8,it)])]))}}),ct={class:"w-full h-full flex flex-col items-center justify-center"},pt={class:"text-[40px] font-bold text-black dark:text-white leading-[1.2] tracking-[-2px] mb-[66px] text-center"},bt=P({__name:"SignupDone",emits:["start"],setup(o){const{t:f}=B();return(r,t)=>(i(),b("div",ct,[e("h2",pt,s(n(f)("user.signup.done.welcome")),1),e("button",{class:"w-[310px] h-[68px] bg-[#F66119] text-white text-[28px] font-bold leading-[30px] tracking-[-1.4px] flex items-center justify-center hover:bg-[#d94e0d] transition-colors",onClick:t[0]||(t[0]=c=>r.$emit("start"))},s(n(f)("user.signup.done.start")),1)]))}}),gt={class:"bg-white w-full max-w-3xl h-[80vh] shadow-2xl flex flex-col overflow-hidden animate-fade-in-up"},xt={class:"p-6 border-b flex justify-between items-center bg-gray-50"},vt={class:"text-xl font-bold text-gray-900"},mt={class:"flex-1 p-6 overflow-y-auto"},ft=["src"],ht={key:1,class:"text-center text-gray-500 mt-20"},kt={class:"p-6 border-t flex justify-end"},yt=P({__name:"TermsModal",props:{term:{},show:{type:Boolean}},emits:["close"],setup(o){const{t:f}=B();return(r,t)=>o.show&&o.term?(i(),b("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:t[2]||(t[2]=V(c=>r.$emit("close"),["self"]))},[e("div",gt,[e("div",xt,[e("h3",vt,s(o.term.title),1),e("button",{onClick:t[0]||(t[0]=c=>r.$emit("close")),class:"text-gray-400 hover:text-black transition-colors"},[...t[3]||(t[3]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])]),e("div",mt,[o.term.content_url?(i(),b("iframe",{key:0,src:o.term.content_url,class:"w-full h-full border-none",title:"Terms Content"},null,8,ft)):(i(),b("div",ht,s(n(f)("user.signup.terms.cannotLoadContent")),1))]),e("div",kt,[e("button",{onClick:t[1]||(t[1]=c=>r.$emit("close")),class:"px-6 py-3 bg-[#222222] text-white font-bold transition-colors"},s(n(f)("user.signup.terms.close")),1)])])])):_("",!0)}}),wt=ee(yt,[["__scopeId","data-v-dbe4c1d1"]]),_t={class:"bg-white dark:bg-[#111] max-w-[1400px] w-full flex overflow-hidden"},Ct={key:0,class:"hidden lg:flex w-6/12 bg-white dark:bg-[#111] flex-col items-start justify-start lg:p-30"},$t={key:0,class:"text-[30px] font-bold text-black dark:text-white mb-10"},Mt={key:1,class:"text-[30px] font-bold text-black dark:text-white mb-10"},jt=["src"],Vt=P({__name:"SignupView",setup(o){const f=le(),r=te(),{t}=B(),c=a("terms"),h=a(!1),k=a(""),y=D(()=>c.value==="profile"?ue:de),M=a([]),g=a({}),$=a(!1),j=a(null),p=a(!1),v=a({}),x=a(""),N=a(""),q=a(""),d=a(null),l=a(null),u=a(null),G=a(null),H=a(""),O=a("");re(async()=>{var m,w;r.user&&(x.value=r.user.email??"",q.value=((m=r.user.user_metadata)==null?void 0:m.full_name)??((w=r.user.user_metadata)==null?void 0:w.name)??"",M.value=await ae(),M.value.forEach(A=>g.value[A.id]=!1))});function Q(){c.value="profile"}function W(m){v.value[m]=!v.value[m]}async function J(m){if(!(h.value||!r.user)){h.value=!0,k.value="";try{await ne(r.user.id,{nickname:m.nickname,fullName:m.fullName,gender:m.gender,nationality:m.nationality,stance:m.stance,contactEmail:m.contactEmail,contactPhoneCountry:m.contactPhoneCountry,contactPhone:m.contactPhone,region:m.regionAddress?{address:m.regionAddress,latitude:0,longitude:0}:null}),await ie(r.user.id,Object.entries(g.value).map(([w,A])=>({terms_id:w,is_agreed:A}))),await r.ensureValidSession(),c.value="done"}catch(w){console.error(w),k.value=(w==null?void 0:w.message)??t("signup.profile.error")}finally{h.value=!1}}}function K(){const m=localStorage.getItem("post_login_redirect");if(m&&m.startsWith("/")){localStorage.removeItem("post_login_redirect"),f.replace(m);return}f.replace("/")}function X(){p.value=!1,setTimeout(()=>{j.value=null},200)}return(m,w)=>(i(),b("div",{class:C(["min-h-screen bg-white dark:bg-[#111] flex justify-center p-4",c.value==="done"?"items-center":"items-start"])},[e("div",_t,[c.value!=="done"?(i(),b("div",Ct,[I(pe,{"current-step":c.value},null,8,["current-step"]),c.value==="terms"?(i(),b("h1",$t,s(n(t)("user.signup.terms.title")),1)):c.value==="profile"?(i(),b("h1",Mt,s(n(t)("user.signup.profile.title")),1)):_("",!0),e("img",{src:y.value,alt:"Signup",class:"w-[480px] h-auto object-contain"},null,8,jt)])):_("",!0),e("div",{class:C(["p-10 lg:p-30 flex flex-col",c.value==="done"?"w-full items-center justify-center":"w-full lg:w-7/12 items-start"])},[c.value==="terms"?(i(),L(Ne,{key:0,terms:M.value,"agreed-map":g.value,"all-checked":$.value,"expanded-terms":v.value,"onUpdate:agreedMap":w[0]||(w[0]=A=>g.value=A),"onUpdate:allChecked":w[1]||(w[1]=A=>$.value=A),onToggleExpand:W,onNext:Q},null,8,["terms","agreed-map","all-checked","expanded-terms"])):_("",!0),c.value==="profile"?(i(),L(ut,{key:1,email:x.value,nickname:N.value,"full-name":q.value,gender:d.value,nationality:l.value,stance:u.value,"phone-country":G.value,"phone-number":H.value,"region-address":O.value,loading:h.value,"error-message":k.value,onBack:w[2]||(w[2]=A=>c.value="terms"),onSubmit:J},null,8,["email","nickname","full-name","gender","nationality","stance","phone-country","phone-number","region-address","loading","error-message"])):_("",!0),c.value==="done"?(i(),L(bt,{key:2,onStart:K})):_("",!0)],2)]),I(wt,{term:j.value,show:p.value,onClose:X},null,8,["term","show"])],2))}});export{Vt as default};
