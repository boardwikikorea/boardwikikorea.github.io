import{d as w,c as s,m as y,A as P,b as t,t as l,F as L,h as C,o as e,u as E,a as u,e as p,y as F,q as I,g as m,r as B,f as S,n as T,C as V,E as j,i as H,D as A,z as D}from"./index-WQ-ZnWsu.js";import{c as Z}from"./eventPublic-_vsq9QXV.js";import{f as R}from"./eventPublicRegistration-DRnuaTDi.js";import{B as q,_ as z}from"./BaseSwiper-ByC_8nob.js";const N={class:"flex flex-col gap-4"},U={class:"w-[280px] lg:w-[420px] bg-black text-white rounded-lg p-5"},O={class:"text-2xl font-bold mb-4"},G={class:"flex flex-col gap-2 text-sm"},K={class:"truncate"},W={class:"shrink-0 text-neutral-300"},X=w({__name:"EventScheduleSwiper",props:{schedules:{}},setup(c){function a(h){const n=new Date(h);return`${String(n.getMonth()+1).padStart(2,"0")}.${String(n.getDate()).padStart(2,"0")}`}function _(h){return h.slice(0,5)}return(h,n)=>(e(),s("section",N,[y(q,{items:c.schedules,"slides-per-view":"auto","space-between":16},{item:P(({item:x})=>[t("div",U,[t("div",O,l(a(x.date)),1),t("ul",G,[(e(!0),s(L,null,C(x.items,(r,v)=>(e(),s("li",{key:v,class:"flex justify-between gap-4"},[t("span",K,l(r.content.ko),1),t("span",W,l(_(r.startTime))+" ~ "+l(_(r.endTime)),1)]))),128))])])]),_:1},8,["items"])]))}}),Y={class:"rounded-lg border border-neutral-200 bg-white p-4 flex flex-col gap-2"},J={class:"flex items-start justify-between gap-2"},Q={class:"font-semibold text-neutral-900"},ee={key:0,class:"text-xs px-2 py-0.5 rounded bg-neutral-100 text-neutral-600"},te={class:"text-sm text-neutral-600 flex flex-col gap-1"},se={key:0},ne={key:1},oe={key:2},ae={key:3},le=w({__name:"EventOptionCard",props:{option:{}},setup(c){const{t:a}=E();return(_,h)=>(e(),s("div",Y,[t("div",J,[t("h3",Q,l(c.option.name),1),c.option.optionCategory?(e(),s("span",ee,l(c.option.optionCategory),1)):u("",!0)]),t("div",te,[c.option.genderType?(e(),s("span",se,l(p(a)("event.option.label.gender"))+": "+l(c.option.genderType),1)):u("",!0),c.option.roundType?(e(),s("span",ne,l(p(a)("event.option.label.round"))+": "+l(c.option.roundType),1)):u("",!0),c.option.musicRequestUse?(e(),s("span",oe,l(p(a)("event.option.flag.musicRequest")),1)):u("",!0),c.option.countable?u("",!0):(e(),s("span",ae,l(p(a)("event.option.flag.notCountable")),1))])]))}}),ie={class:"flex flex-col gap-4"},re={class:"text-lg font-semibold"},ce={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},ue=w({__name:"EventOptionList",props:{options:{}},setup(c){const{t:a}=E();return(_,h)=>(e(),s("section",ie,[t("h2",re,l(p(a)("event.option.section.available")),1),t("div",ce,[(e(!0),s(L,null,C(c.options,n=>(e(),F(le,{key:n.id,option:n},null,8,["option"]))),128))])]))}}),pe="data:image/svg+xml,%3csvg%20width='47'%20height='33'%20viewBox='0%200%2047%2033'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.5%200L28.5252%205.64084L37.313%203.15122L36.6562%209.78867L45.8498%2011.4012L39.762%2016.5L45.8498%2021.5988L36.6562%2023.2113L37.313%2029.8488L28.5252%2027.3592L23.5%2033L18.4748%2027.3592L9.68705%2029.8488L10.3438%2023.2113L1.15017%2021.5988L7.238%2016.5L1.15017%2011.4012L10.3438%209.78867L9.68705%203.15122L18.4748%205.64084L23.5%200Z'%20fill='%23F66119'/%3e%3cpath%20d='M21.92%2012.6H23V21H21.992V14.016L17.72%2019.188H17.648L13.376%2014.016V21H12.392V12.6H13.496L17.708%2017.736L21.92%2012.6ZM25.4865%2017.94C25.5825%2019.596%2026.7825%2020.412%2028.5225%2020.412C29.8185%2020.412%2030.5985%2020.088%2031.3545%2019.38L32.0025%2020.064C31.1145%2020.868%2030.0225%2021.252%2028.4745%2021.252C25.9425%2021.252%2024.4905%2019.884%2024.4905%2017.736C24.4905%2015.576%2025.9425%2014.208%2028.4145%2014.208C30.7425%2014.208%2032.2305%2015.468%2032.2305%2017.724C32.2305%2017.832%2032.2185%2017.892%2032.2065%2017.94H25.4865ZM28.4265%2015.048C26.9145%2015.048%2025.7865%2015.744%2025.5345%2017.124H31.2345C30.9465%2015.672%2029.8305%2015.048%2028.4265%2015.048ZM33.4291%2012.6H34.6771L34.4731%2018.684H33.6331L33.4291%2012.6ZM34.0531%2021.12C33.6331%2021.12%2033.3331%2020.844%2033.3331%2020.46C33.3331%2020.076%2033.6331%2019.788%2034.0531%2019.788C34.4731%2019.788%2034.7731%2020.076%2034.7731%2020.46C34.7731%2020.844%2034.4731%2021.12%2034.0531%2021.12Z'%20fill='white'/%3e%3c/svg%3e",de={class:"w-full"},he={class:"text-2xl font-semibold tracking-[-1.6px] mb-[70px]"},fe={class:"flex flex-col lg:flex-row gap-8 lg:gap-[137px]"},_e={key:0,class:"w-full lg:w-[325px] flex flex-col gap-[34px]"},xe=["onClick"],me={width:"12",height:"8",viewBox:"0 0 12 8"},ve=["fill"],ge={class:"flex-1"},ke={key:0,class:"text-neutral-400 py-10 text-center border-t border-b"},ye={key:1,class:"border-2 border-[#222] p-8 min-h-[300px]"},be={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-y-10"},we=["src"],$e=w({__name:"EventParticipantList",props:{participants:{}},setup(c){const{t:a}=E(),_=c,h=I(),n=m(()=>{const i=new Map;return Array.isArray(_.participants)&&(_.participants.forEach(f=>{var $;const o=($=f.options)==null?void 0:$[0];if(!(o!=null&&o.category)||!(o!=null&&o.code))return;const d=o.category,g=o.code;i.has(d)||i.set(d,new Map);const b=i.get(d);b.has(g)||b.set(g,[]),b.get(g).push(f)}),i.forEach(f=>{f.forEach(o=>{o.sort((d,g)=>{const b=k(d.profileId),$=k(g.profileId);return b&&!$?-1:!b&&$?1:0})})})),i}),x=m(()=>Array.from(n.value.keys())),r=B(null);S(x,i=>{!r.value&&i.length>0&&(r.value=i[0])},{immediate:!0});const v=m(()=>{if(!r.value)return[];const i=n.value.get(r.value);return i?Array.from(i.values()).flat():[]}),k=i=>{var f;return((f=h.user)==null?void 0:f.id)===i},M=i=>{if(i.length<=1)return i;if(i.length===2)return i[0]+"0";const f=Math.floor(i.length/2);return i.slice(0,f)+"0"+i.slice(f+1)};return(i,f)=>(e(),s("div",de,[t("h3",he,l(p(a)("user.event.section.participants")),1),t("div",fe,[x.value.length?(e(),s("div",_e,[(e(!0),s(L,null,C(x.value,o=>(e(),s("div",{key:o,onClick:d=>r.value=o,class:T(["cursor-pointer border-2 px-6 py-4 flex items-center justify-between min-h-[64px]",r.value===o?"border-[#F66119]":"border-[#222]"])},[t("span",{class:T(["text-lg font-bold",r.value===o?"text-[#F66119]":"text-white"])},l(o),3),(e(),s("svg",me,[t("path",{d:"M6 8L0 0H12L6 8Z",fill:r.value===o?"#F66119":"#222"},null,8,ve)]))],10,xe))),128))])):u("",!0),t("div",ge,[c.participants.length?r.value?(e(),s("div",ye,[t("ul",be,[(e(!0),s(L,null,C(v.value,o=>(e(),s("li",{key:o.registrationId,class:"flex items-center gap-2 justify-center"},[k(o.profileId)?(e(),s("img",{key:0,src:p(pe),class:"w-[47px] h-[33px]"},null,8,we)):u("",!0),t("span",{class:T(["text-[20px] lg:text-[28px] font-bold",k(o.profileId)?"text-[#F66119]":""])},l(M(o.displayName)),3)]))),128))])])):u("",!0):(e(),s("div",ke,l(p(a)("user.event.empty.participants")),1))])])]))}}),Le=["href"],Ce=w({__name:"BaseEventLinkButton",props:{link:{}},setup(c){const a=c,_=m(()=>a.link.type==="email"&&!a.link.link.startsWith("mailto:")?`mailto:${a.link.link}`:a.link.link),h=m(()=>a.link.title??r[a.link.type]??"Link"),n=m(()=>v[a.link.type]??["fas","link"]),x=m(()=>a.link.type==="ticket"),r={homepage:"홈페이지",ticket:"신청하기",instagram:"Instagram",youtube:"YouTube",facebook:"Facebook",x:"X",tiktok:"TikTok",rednote:"Rednote",kakaotalk:"KakaoTalk",map:"지도",email:"이메일",contact:"문의",etc:"링크"},v={homepage:["fas","globe"],ticket:["fas","ticket"],instagram:["fab","instagram"],youtube:["fab","youtube"],facebook:["fab","facebook"],x:["fab","x-twitter"],tiktok:["fab","tiktok"],rednote:["fas","bookmark"],kakaotalk:["fas","comment"],map:["fas","map-location-dot"],email:["fas","envelope"],contact:["fas","headset"],etc:["fas","link"]};return(k,M)=>{const i=V("font-awesome-icon");return e(),s("a",{href:_.value,target:"_blank",rel:"noopener noreferrer",class:T(["inline-flex items-center gap-2 px-3 py-2 rounded-md border transition text-sm",x.value?"bg-black text-white border-black hover:bg-neutral-800":"border-neutral-300 text-neutral-700 hover:bg-neutral-100"])},[y(i,{icon:n.value,class:"w-4 h-4"},null,8,["icon"]),t("span",null,l(h.value),1)],10,Le)}}}),Me={key:0,class:"w-full"},Te={class:"w-full bg-[#F2F1F6]"},Ee={class:"max-w-[1280px] m-auto py-10 lg:py-24 px-5 lg:px-0 flex flex-col lg:flex-row gap-8 lg:gap-16"},He={class:"relative w-full lg:max-w-[680px] bg-white overflow-hidden rounded-lg flex-shrink-0"},Be=["src"],Pe={key:1,class:"flex h-full items-center justify-center text-neutral-400"},Fe={class:"absolute right-[16px] top-[16px] w-[36px] h-[36px] rounded-full border-2 border-black dark:border-white overflow-hidden bg-white z-10 flex items-center justify-center"},Ie={class:"flex-1 flex flex-col"},Se={class:"text-[28px] lg:text-[40px] font-bold tracking-[-0.05em] leading-tight text-neutral-900"},Ve={class:"mt-6 text-neutral-600 space-y-1 text-sm lg:text-base"},je={key:0},Ae={key:1,class:"pt-4 border-t border-neutral-200"},De={class:"flex flex-wrap gap-2"},Ze={class:"max-w-[1280px] m-auto px-5 py-20"},Re={class:"text-2xl font-semibold pb-3"},qe=["innerHTML"],ze={key:0,class:"max-w-[1280px] m-auto px-5 py-20"},Ne={class:"text-2xl font-semibold pb-3"},Ue={key:1,class:"max-w-[1280px] m-auto px-5 py-20"},Oe={class:"text-2xl font-semibold pb-3"},Ge={key:2,class:"max-w-[1280px] m-auto px-5 py-20"},Ke={class:"text-2xl font-semibold pb-3"},We=["innerHTML"],Xe={key:3,class:"max-w-[1280px] m-auto px-5 py-20"},tt=w({__name:"EventDetailView",setup(c){const{t:a}=E(),_=j(),h=D();I();const n=B(null),x=B([]),r=m(()=>_.params.nameEn);let v=0;const k=async()=>{if(!r.value){h.replace({name:"error"});return}const o=++v,d=await Z(r.value);if(o===v){if(!d){h.replace({name:"error"});return}n.value=d,M(d.id)}},M=async o=>{const d=await R(o);x.value=d};S(r,k,{immediate:!0});const i=async()=>{h.push({name:"event-apply",params:{nameEn:r.value}})},f=m(()=>{var o;return((o=n.value)==null?void 0:o.links.filter(d=>d.type!=="thumbnail"))??[]});return(o,d)=>n.value?(e(),s("div",Me,[t("section",Te,[t("div",Ee,[t("div",He,[n.value.thumbnailUrl?(e(),s("img",{key:0,src:n.value.thumbnailUrl,class:"w-full h-full object-cover"},null,8,Be)):(e(),s("div",Pe,l(p(a)("user.event.placeholder.noImage")),1)),t("div",Fe,[y(z,{code:n.value.countryCode},null,8,["code"])])]),t("div",Ie,[t("h2",Se,l(n.value.title),1),t("div",Ve,[t("p",null,[t("strong",null,l(p(a)("event.common.register.eventPeriod"))+":",1),H(" "+l(n.value.periodText),1)]),n.value.applyPeriodText?(e(),s("p",je,[t("strong",null,l(p(a)("event.common.register.applyPeriod"))+":",1),H(" "+l(n.value.applyPeriodText),1)])):u("",!0),f.value.length?(e(),s("div",Ae,[t("ul",De,[(e(!0),s(L,null,C(f.value,g=>(e(),s("li",{key:g.link},[y(Ce,{link:g},null,8,["link"])]))),128))])])):u("",!0)]),n.value.registration_use?(e(),F(A,{key:0,class:"mt-10 lg:mt-auto w-full",size:"large",type:"primary",onClick:i},{default:P(()=>[H(l(p(a)("user.event.button.applyNow")),1)]),_:1})):u("",!0)])])]),t("section",Ze,[t("h3",Re,l(p(a)("user.event.section.intro")),1),n.value.contentHtml?(e(),s("div",{key:0,class:"prose max-w-none dark:prose-invert",innerHTML:n.value.contentHtml},null,8,qe)):u("",!0)]),n.value.options.length?(e(),s("section",ze,[t("h3",Ne,l(p(a)("user.event.section.option")),1),y(ue,{options:n.value.options},null,8,["options"])])):u("",!0),n.value.schedules.length?(e(),s("section",Ue,[t("h3",Oe,l(p(a)("user.event.section.schedule")),1),y(X,{schedules:n.value.schedules},null,8,["schedules"])])):u("",!0),n.value.payinfoHtml?(e(),s("section",Ge,[t("h3",Ke,l(p(a)("user.event.section.payment")),1),t("div",{class:"prose max-w-none dark:prose-invert",innerHTML:n.value.payinfoHtml},null,8,We)])):u("",!0),n.value.registration_use?(e(),s("section",Xe,[y($e,{participants:x.value},null,8,["participants"])])):u("",!0)])):u("",!0)}});export{tt as default};
