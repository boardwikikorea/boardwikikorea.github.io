import{d as C,f as E,r as _,g as D,h as L,c as o,a as t,l as b,t as a,b as r,j as V,v as F,F as h,k,m as N,o as d,n as g,p as $}from"./index-Ithfg97i.js";import{u as B}from"./event-DY2S5aPF.js";const I={class:"p-6 bg-neutral-50 dark:bg-neutral-900 min-h-[calc(100vh-54px)]"},S={class:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mb-2"},T={class:"text-sm text-neutral-600 dark:text-neutral-400 mb-6"},j={key:0,class:"text-sm text-neutral-500 dark:text-neutral-400 mb-4"},M={class:"mb-6 flex flex-wrap items-center gap-4 justify-between"},P={class:"flex flex-wrap items-center gap-4"},q=["placeholder"],z={class:"flex gap-2"},A=["onClick"],R={class:"overflow-x-auto bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-sm"},U={class:"w-full border-collapse"},G={class:"bg-neutral-100 dark:bg-neutral-700"},H={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-16 text-center"},J={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-16 text-center"},K={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-16 text-center"},O={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-24 text-center"},Q={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-24 text-center"},W={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-24 text-center"},X={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-32 text-center"},Y={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-32 text-center"},Z={class:"px-4 py-3 text-xs font-semibold uppercase tracking-wide text-neutral-500 dark:text-neutral-300 w-32 text-center"},tt={class:"px-4 py-3 text-center text-sm text-neutral-500 dark:text-neutral-400"},et={class:"px-4 py-3"},at={class:"flex flex-col"},nt={class:"text-sm text-neutral-900 dark:text-neutral-100"},rt={class:"text-xs text-neutral-500 dark:text-neutral-400"},st={class:"px-4 py-3 text-center"},lt={class:"px-4 py-3 text-center text-sm text-neutral-700 dark:text-neutral-200"},ot={class:"px-4 py-3 text-center text-sm text-neutral-700 dark:text-neutral-200"},dt={class:"px-4 py-3 text-center text-sm text-neutral-700 dark:text-neutral-200"},it={class:"px-4 py-3 text-center text-sm text-neutral-700 dark:text-neutral-200"},ct={class:"px-4 py-3 text-center"},ut=["onClick"],xt=["onClick"],pt={key:0},mt={colspan:"6",class:"px-4 py-10 text-center text-sm text-neutral-500 dark:text-neutral-400"},kt=C({__name:"ListView",setup(_t){const{t:n}=E(),u=N(),i=B(),x=_(""),v=["all","open","closed"],c=_("all");D(async()=>{try{await i.fetchEvents()}catch(s){console.error(n("admin.event.alert.listError"),s)}});const p=L(()=>{let s=i.events;c.value==="open"?s=s.filter(e=>e.open):c.value==="closed"&&(s=s.filter(e=>!e.open));const l=x.value.trim().toLowerCase();return l&&(s=s.filter(e=>e.name.toLowerCase().includes(l)||(e.name_en??"").toLowerCase().includes(l))),s});async function f(){if(confirm(n("admin.event.confirm.create")))try{const s=n("admin.event.draft.defaultName"),l=await i.createDraftEvent(s);u.push({name:"admin-event-edit",params:{eventId:l}})}catch(s){alert(n("admin.event.confirm.noPermission")),console.error(s)}}function w(s){u.push({name:"admin-event-edit",params:{eventId:s}})}return(s,l)=>(d(),o("main",I,[t("h3",S,a(r(n)("admin.event.listTitle")),1),t("p",T,a(r(n)("admin.event.listDescription")),1),r(i).loading?(d(),o("div",j,a(r(n)("admin.event.listLoading")),1)):b("",!0),t("div",M,[t("div",P,[V(t("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>x.value=e),type:"text",placeholder:r(n)("admin.event.searchPlaceholder"),class:"w-64 px-3 py-2 text-sm rounded-md border border-neutral-300 bg-white text-neutral-800 focus:outline-none focus:ring-2 focus:ring-neutral-400 dark:bg-neutral-800 dark:text-neutral-100 dark:border-neutral-600"},null,8,q),[[F,x.value]]),t("div",z,[(d(),o(h,null,k(v,e=>t("button",{key:e,onClick:m=>c.value=e,class:g(["px-3 py-1.5 text-sm rounded-full border transition",c.value===e?"bg-neutral-900 text-white border-neutral-900 dark:bg-white dark:text-neutral-900 dark:border-white":"bg-white text-neutral-700 border-neutral-300 hover:bg-neutral-100 dark:bg-neutral-800 dark:text-neutral-200 dark:border-neutral-600 dark:hover:bg-neutral-700"])},a(r(n)(`admin.event.filter.${e}`)),11,A)),64))])]),t("button",{onClick:f,class:"px-4 py-2 text-sm rounded-md bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-white dark:text-neutral-900 dark:hover:bg-neutral-200"},a(r(n)("admin.event.button.create")),1)]),t("div",R,[t("table",U,[t("thead",G,[t("tr",null,[t("th",H,a(r(n)("admin.event.table.num")),1),t("th",J,a(r(n)("admin.event.table.name")),1),t("th",K,a(r(n)("admin.event.table.country")),1),t("th",O,a(r(n)("admin.event.table.open")),1),t("th",Q,a(r(n)("admin.event.table.registrationStart")),1),t("th",W,a(r(n)("admin.event.table.registrationEnd")),1),t("th",X,a(r(n)("admin.event.table.startDate")),1),t("th",Y,a(r(n)("admin.event.table.endDate")),1),t("th",Z,a(r(n)("admin.event.table.manage")),1)])]),t("tbody",null,[(d(!0),o(h,null,k(p.value,(e,m)=>(d(),o("tr",{key:e.id,class:"border-t border-neutral-200 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-700 transition"},[t("td",tt,a(m+1),1),t("td",et,[t("div",at,[t("span",nt,a(e.name),1),t("span",rt,a(e.name_en??"draft"),1)])]),t("td",null,a(e.country_code),1),t("td",st,[t("span",{class:g(["inline-flex px-2 py-1 text-xs rounded-full",e.open?"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-200":"bg-neutral-200 text-neutral-600 dark:bg-neutral-600 dark:text-neutral-200"])},a(e.open?r(n)("admin.event.status.open"):r(n)("admin.event.status.closed")),3)]),t("td",lt,a(e.registration_use?e.registration_start_at??"-":"-"),1),t("td",ot,a(e.registration_use?e.registration_end_at??"-":"-"),1),t("td",dt,a(e.start_date??"-"),1),t("td",it,a(e.end_date??"-"),1),t("td",ct,[t("button",{onClick:y=>w(e.id),class:"px-3 py-1 text-xs rounded-md bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-200"},a(r(n)("admin.event.button.edit")),9,ut),l[1]||(l[1]=$("   ",-1)),t("button",{onClick:y=>r(u).push({name:"admin-event-registrations",params:{eventId:e.id}}),class:"px-3 py-1 text-xs rounded-md bg-neutral-200 hover:bg-neutral-300 dark:bg-neutral-700 dark:hover:bg-neutral-600 dark:text-neutral-200"}," 참가자 조회 ",8,xt)])]))),128)),!r(i).loading&&p.value.length===0?(d(),o("tr",pt,[t("td",mt,a(r(n)("admin.event.empty")),1)])):b("",!0)])])])]))}});export{kt as default};
