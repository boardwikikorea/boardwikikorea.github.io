import{d as k,c as n,e as f,w as $,a as e,t as c,F as v,r as y,o as t,f as r,p as T,i as x,y as E,x as B,u as C,h as L,C as S,D as H,b as g,B as D,n as M}from"./index-DE-Cvn-3.js";import{d as F}from"./eventPublic-DWKJ9J4u.js";import{B as N}from"./BaseSwiper-HjVxHgvD.js";const P={class:"flex flex-col gap-4"},V={class:"w-[280px] lg:w-[420px] bg-black text-white rounded-lg p-5"},j={class:"text-2xl font-bold mb-4"},R={class:"flex flex-col gap-2 text-sm"},q={class:"truncate"},U={class:"shrink-0 text-neutral-300"},z=k({__name:"EventScheduleSwiper",props:{schedules:{}},setup(a){function l(u){const s=new Date(u);return`${String(s.getMonth()+1).padStart(2,"0")}.${String(s.getDate()).padStart(2,"0")}`}function i(u){return u.slice(0,5)}return(u,s)=>(t(),n("section",P,[f(N,{items:a.schedules,"slides-per-view":"auto","space-between":16},{item:$(({item:p})=>[e("div",V,[e("div",j,c(l(p.date)),1),e("ul",R,[(t(!0),n(v,null,y(p.items,(d,_)=>(t(),n("li",{key:_,class:"flex justify-between gap-4"},[e("span",q,c(d.content.ko),1),e("span",U,c(i(d.startTime))+" ~ "+c(i(d.endTime)),1)]))),128))])])]),_:1},8,["items"])]))}}),A={class:"rounded-lg border border-neutral-200 bg-white p-4 flex flex-col gap-2"},I={class:"flex items-start justify-between gap-2"},O={class:"font-semibold text-neutral-900"},K={key:0,class:"text-xs px-2 py-0.5 rounded bg-neutral-100 text-neutral-600"},W={class:"text-sm text-neutral-600 flex flex-col gap-1"},X={key:0},Y={key:1},G={key:2},J={key:3},Q=k({__name:"EventOptionCard",props:{option:{}},setup(a){return(l,i)=>(t(),n("div",A,[e("div",I,[e("h3",O,c(a.option.name),1),a.option.optionCategory?(t(),n("span",K,c(a.option.optionCategory),1)):r("",!0)]),e("div",W,[a.option.genderType?(t(),n("span",X," 성별: "+c(a.option.genderType),1)):r("",!0),a.option.roundType?(t(),n("span",Y," 라운드: "+c(a.option.roundType),1)):r("",!0),a.option.musicRequestUse?(t(),n("span",G," 음악 신청 가능 ")):r("",!0),a.option.countable?r("",!0):(t(),n("span",J," 정원 제한 없음 "))])]))}}),Z={class:"flex flex-col gap-4"},ee={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"},te=k({__name:"EventOptionList",props:{options:{}},setup(a){return(l,i)=>(t(),n("section",Z,[i[0]||(i[0]=e("h2",{class:"text-lg font-semibold"}," 선택 가능한 옵션 ",-1)),e("div",ee,[(t(!0),n(v,null,y(a.options,u=>(t(),T(Q,{key:u.id,option:u},null,8,["option"]))),128))])]))}}),se=["href"],ne=k({__name:"BaseEventLinkButton",props:{link:{}},setup(a){const l=a,i=x(()=>l.link.type==="email"&&!l.link.link.startsWith("mailto:")?`mailto:${l.link.link}`:l.link.link),u=x(()=>l.link.title??d[l.link.type]??"Link"),s=x(()=>_[l.link.type]??["fas","link"]),p=x(()=>l.link.type==="ticket"),d={homepage:"홈페이지",ticket:"신청하기",instagram:"Instagram",youtube:"YouTube",facebook:"Facebook",x:"X",tiktok:"TikTok",rednote:"Rednote",kakaotalk:"KakaoTalk",map:"지도",email:"이메일",contact:"문의",etc:"링크"},_={homepage:["fas","globe"],ticket:["fas","ticket"],instagram:["fab","instagram"],youtube:["fab","youtube"],facebook:["fab","facebook"],x:["fab","x-twitter"],tiktok:["fab","tiktok"],rednote:["fas","bookmark"],kakaotalk:["fas","comment"],map:["fas","map-location-dot"],email:["fas","envelope"],contact:["fas","headset"],etc:["fas","link"]};return(b,h)=>{const m=B("font-awesome-icon");return t(),n("a",{href:i.value,target:"_blank",rel:"noopener noreferrer",class:E(["inline-flex items-center gap-2 px-3 py-2 rounded-md border transition text-sm",p.value?"bg-black text-white border-black hover:bg-neutral-800":"border-neutral-300 text-neutral-700 hover:bg-neutral-100"])},[f(m,{icon:s.value,class:"w-4 h-4"},null,8,["icon"]),e("span",null,c(u.value),1)],10,se)}}}),oe={key:0,class:"w-full"},ae={class:"w-full bg-[#F2F1F6]"},le={class:"max-w-[1280px] m-auto py-10 lg:py-24 px-5 lg:px-0 flex flex-col lg:flex-row gap-8 lg:gap-16"},ie={class:"w-full lg:max-w-[680px] aspect-[560/351] lg:h-[427px] bg-white overflow-hidden rounded-lg flex-shrink-0"},re=["src"],ce={key:1,class:"flex h-full items-center justify-center text-neutral-400"},ue={class:"flex-1 flex flex-col"},pe={class:"text-[28px] lg:text-[40px] font-bold tracking-[-0.05em] leading-tight"},de={class:"mt-6 text-neutral-600 space-y-1 text-sm lg:text-base"},me={key:0},xe={key:1,class:"pt-4 border-t border-neutral-200"},fe={class:"flex flex-wrap gap-2"},ke={class:"max-w-[1280px] m-auto px-5 py-20"},_e=["innerHTML"],he={key:0,class:"max-w-[1280px] m-auto px-5 py-20"},ge={key:1,class:"max-w-[1280px] m-auto px-5 py-20"},ve={key:2,class:"max-w-[1280px] m-auto px-5 py-20"},ye=["innerHTML"],Te=k({__name:"EventDetailView",setup(a){const l=S(),i=M(),u=C(),s=L(null),p=x(()=>l.params.nameEn);let d=0;H(p,async()=>{if(!p.value){i.replace({name:"error"});return}const m=++d,o=await F(p.value);if(m===d){if(!o){i.replace({name:"error"});return}s.value=o}},{immediate:!0});const b=async()=>{if(!u.user){i.push({name:"login",query:{redirect:l.fullPath}});return}i.push({name:"event-apply",params:{nameEn:p.value}})},h=x(()=>{var m;return((m=s.value)==null?void 0:m.links.filter(o=>o.type!=="thumbnail"))??[]});return(m,o)=>s.value?(t(),n("div",oe,[e("section",ae,[e("div",le,[e("div",ie,[s.value.thumbnailUrl?(t(),n("img",{key:0,src:s.value.thumbnailUrl,class:"w-full h-full object-cover"},null,8,re)):(t(),n("div",ce," No Image "))]),e("div",ue,[e("h2",pe,c(s.value.title),1),e("div",de,[e("p",null,[o[0]||(o[0]=e("strong",null,"이벤트 기간:",-1)),g(" "+c(s.value.periodText),1)]),s.value.applyPeriodText?(t(),n("p",me,[o[1]||(o[1]=e("strong",null,"신청 기간:",-1)),g(" "+c(s.value.applyPeriodText),1)])):r("",!0),h.value.length?(t(),n("div",xe,[e("ul",fe,[(t(!0),n(v,null,y(h.value,w=>(t(),n("li",{key:w.link},[f(ne,{link:w},null,8,["link"])]))),128))])])):r("",!0)]),s.value.registration_use?(t(),T(D,{key:0,class:"mt-10 lg:mt-auto w-full",size:"large",type:"primary",onClick:b},{default:$(()=>[...o[2]||(o[2]=[g(" 바로 신청하기 ",-1)])]),_:1})):r("",!0)])])]),e("section",ke,[o[3]||(o[3]=e("h3",{class:"text-2xl font-semibold"},"이벤트 소개",-1)),s.value.contentHtml?(t(),n("div",{key:0,class:"prose max-w-none dark:prose-invert",innerHTML:s.value.contentHtml},null,8,_e)):r("",!0)]),s.value.options.length?(t(),n("section",he,[o[4]||(o[4]=e("h3",{class:"text-2xl font-semibold"},"이벤트 옵션",-1)),f(te,{options:s.value.options},null,8,["options"])])):r("",!0),s.value.schedules.length?(t(),n("section",ge,[o[5]||(o[5]=e("h3",{class:"text-2xl font-semibold"},"이벤트 스케줄",-1)),f(z,{schedules:s.value.schedules},null,8,["schedules"])])):r("",!0),s.value.payinfoHtml?(t(),n("section",ve,[o[6]||(o[6]=e("h3",{class:"text-2xl font-semibold"},"이벤트 결제정보",-1)),e("div",{class:"prose max-w-none dark:prose-invert",innerHTML:s.value.payinfoHtml},null,8,ye)])):r("",!0)])):r("",!0)}});export{Te as default};
