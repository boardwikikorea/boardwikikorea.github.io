<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>롱보드 대축제</title>

    <!-- SEO 최적화 -->
    <meta name="description" content="보드위키에서 최신 스케이트, 롱보드 정보와 롱보드댄싱, 보드대회 소식을 확인하세요.">
    <meta name="keywords" content="스케이트, 롱보드, 카버보드, 롱보드댄싱, 보드대회, longboarding, 롱보드 대축제, 롱보드 페스티벌, longboard festival">
    <meta name="naver-site-verification" content="e74dc3e49d0527046508b26ee9860c52a501b8f4">

    <!-- Open Graph (OG) -->
    <meta property="og:site_name" content="BoardWiki">
    <meta property="og:title" content="롱보드 대축제">
    <meta property="og:description" content="스케이트·롱보드 최신 정보를 확인하세요.">
    <meta property="og:url" content="https://boardwiki.kr">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://boardwiki.kr/images/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="보드위키 - 스케이트·롱보드 커뮤니티">
    <meta name="twitter:description" content="보드위키에서 최신 스케이트, 롱보드 정보를 만나보세요.">
    <meta name="twitter:image" content="https://boardwiki.kr/images/twitter-image.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://boardwiki.kr/">

    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/festival.css">

    <!-- JS -->
    <script src="../js/common.js" defer></script>
</head>

<body id="festival">
    <h1 class="sound_only">롱보드 대축제</h1>

    <div class="language-switcher">
        <button type="button" class="active" id="btn-kr">KR</button>
        <button type="button" id="btn-en">EN</button>
    </div>


    <a href="http://pf.kakao.com/_iGCjn" class="kakao-button" target="_blank">
        <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png" alt="카카오톡 로고">
        문의하기
    </a>


    <div class="wrap main">
        <article class="content ">
                <h2 class="sound_only">롱보드 대축제란?</h2>


                <section class="application">
                <h3>대회 신청</h3>

                <p class="tip2" style="margin-top: 20px;">
                    <span class="lang_kr">프리스타일, 베스트 댄싱, 베스트 트릭, 베스트 G턴 중 최대 2개까지 선택할 수 있으며, 그 외 이벤트 종목은 자유롭게 신청 가능합니다.</span>
                    <span class="lang_en">You can select up to 2 events from Freestyle, Best Dancing, Best Trick, and Best G-Turn. Other event categories can be chosen freely.</span>
                </p>


                <br/>

                <form id="applicationForm" name="applicationForm" method="post">
                    <ul class="user_info">
                        <li>
                            <label for="name">이름 (name or nickname)</label>
                            <input type="text" id="name" name="name" required>
                        </li>
                        <li>
                            <label for="contact">연락처 (phone) 또는 메일 (email)</label>
                            <input type="text" id="contact" name="contact" required>
                        </li>
                        <li>
                            <strong>성별 (gender)</strong>
                            <label><input type="radio" name="gender" value="male" required> 남자(male)</label>
                            <label><input type="radio" name="gender" value="female" required> 여자(female)</label>
                        </li>
                        <li>
                            <strong>스탠스 (stance)</strong>
                            <label><input type="radio" name="stance" value="regular" required> regular</label>
                            <label><input type="radio" name="stance" value="goofy" required> goofy</label>
                        </li>
                        <li>
                            <label for="team"><strong>소속 (Team or Group)</strong></label>
                            <input type="text" id="team" name="team">
                        </li>
                        <li>
                            <label for="team"><strong>신청곡 (Song request)</strong></label>
                            <input type="text" id="team" name="song">
                        </li>

                    </ul>

                    <ul class="user_pick">
                        <li class="line-bottom">
                            <strong>프리스타일(Freestyle)</strong>
                            <ul>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="open"> 오픈부 (Open Division)</label>
                                    
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                        * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span> `
                                        <span class="lang_en">
                                        Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="newbie"> 뉴비부 (Newbie Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드를 탄 경력이 2년이하 남녀노소 참여가능
                                        </span>
                                        <span class="lang_en">
                                            Anyone, regardless of age or gender, with less than two years of boarding experience can participate.
                                    </span>
                                    </p>

                                </li>
                            </ul>
                        </li>
                        <li>
                            <p class="tip2">
                                <span class="lang_kr">
                                    3 종목중 1종목 선택이 가능합니다.
                                </span>
                                <span class="lang_en">
                                    You can choose one event out of the three.
                                </span>
                            </p>
                        </li>
                        <li>
                            <strong>베스트댄싱(Best Dancing)</strong>
                            <p></p>
                            <ul>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_dancing" value="open"> 오픈부 (Open Division)</label>   
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_dancing" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span>
                                        <span class="lang_en">
                                            Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>베스트트릭(Best Trick)</strong>
                            <ul>
                                <li><label><input type="radio" name="best_trick" value="open"> 오픈부 (Open Division)</label></li>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_trick" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span>
                                        <span class="lang_en">
                                            Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                            </ul>
                        </li>

                        
                        <li class="line-bottom"><label><input type="checkbox" name="best_gturn"> <strong>베스트G턴(Best G-trun)</strong></label></li>

                        <li>
                            <p class="tip2">
                                <span class="lang_kr">
                                    이벤트 종목은 선택 제한 없이 자유롭게 선택가능합니다.
                                </span>
                                <span class="lang_en">
                                    Event categories can be freely selected without any restrictions.
                                </span>
                            </p>
                        </li>

                        <li><label><input type="checkbox" name="best_pair"> <strong>베스트페어 (Best Pair)</strong></label></li>
                        <li><label><input type="checkbox" name="best_hand"> <strong>베스트핸드트릭 (Best Hand Trick)</strong></label></li>
                        <li class="line-bottom"><label><input type="checkbox" name="hippy_jump"> <strong>히피점프 (Hippie Jump)</strong></label></li>
                    </ul>

                    <p class="tip2">
                        <span class="lang_kr">
                            * 외국인 참가자의 경우, 참가비 30,000원은 현장에서 지불 가능하며, 접수 또한 현장에서 가능합니다.
                        </span>
                        <span class="lang_en">
                            * For foreign participants, the participation fee of 30,000 KRW can be paid on-site, and registration is also available on-site.
                        </span>
                    </p>

                    <br/>

                    <button type="submit" class="btn submit">
                        <span class="lang_kr">
                            신청하기
                        </span>
                        <span class="lang_en">
                            Submit
                        </span>
                    </button>
                </form>
            </section>

        </article>

        <footer>
            서비스 제공 <a href="../index.html">@boardwiki</a>
        </footer>
    </div>

    <script type="module">
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        //import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDDkghHYAD581-N3u8zUUsinS1F49P5xi0",
            authDomain: "boardwiki-e070e.firebaseapp.com",
            databaseURL: "https://boardwiki-e070e-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "boardwiki-e070e",
            storageBucket: "boardwiki-e070e.firebasestorage.app",
            messagingSenderId: "301441212066",
            appId: "1:301441212066:web:1ffff5d8eccaaff11781fb",
            measurementId: "G-DZ52LV9MMG"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        //const analytics = getAnalytics(app);
        const db = getFirestore(app);

        document.getElementById('applicationForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const form = e.target;
            const data = {
                name: form.name.value.trim(),
                contact: form.contact.value.trim(),
                gender: form.gender.value,
                stance: form.stance.value,
                song: form.song.value,
                team: form.team.value.trim() || null,
                freestyle: form.freestyle?.value ?? null,
                best_trick: form.best_trick?.value ?? null,
                best_gturn: form.best_gturn?.checked ?? false,
                hippy_jump: form.hippy_jump?.checked ?? false,
                best_hand: form.best_hand?.checked ?? false,
                best_pair: form.best_pair?.checked ?? false,
                createdAt: serverTimestamp()
            };

            if (!data.name || !data.contact || !data.gender || !data.stance) {
                alert('모든 필수 항목을 입력해주세요.');
                return;
            }

            try {
                await addDoc(collection(db, "festivalApplications"), data);
                alert('신청이 완료되었습니다!');
                form.reset();
            } catch (error) {
                console.error("Error submitting application:", error);
                alert(`신청 중 오류 발생: ${error.message}`);
            }
        });

    </script>

    <script>
        
        document.addEventListener("DOMContentLoaded", function() {
            const btnKr = document.getElementById("btn-kr");
            const btnEn = document.getElementById("btn-en");
            const krElements = document.querySelectorAll(".lang_kr");
            const enElements = document.querySelectorAll(".lang_en");

            function showKorean() {
                krElements.forEach(el => el.style.display = "block");
                enElements.forEach(el => el.style.display = "none");
                btnKr.classList.add("active");
                btnEn.classList.remove("active");
            }

            function showEnglish() {
                krElements.forEach(el => el.style.display = "none");
                enElements.forEach(el => el.style.display = "block");
                btnEn.classList.add("active");
                btnKr.classList.remove("active");
            }

            // 초기 상태 설정: 브라우저 언어 감지
            const userLang = navigator.language || navigator.userLanguage; // 사용자의 브라우저 언어 감지
            if (userLang.startsWith("ko")) {
                showKorean(); // 한국어이면 한국어 노출
            } else {
                showEnglish(); // 그 외에는 영어 노출
            }

            // 버튼 클릭 이벤트 설정
            btnKr.addEventListener("click", showKorean);
            btnEn.addEventListener("click", showEnglish);
        });

        document.addEventListener("DOMContentLoaded", function () {
            const restrictedCheckboxes = document.querySelectorAll('input[name="best_trick"], input[name="freestyle"], input[name="best_dancing"], input[name="best_gturn"]');

            let checkedOrder = []; // 체크된 순서를 저장하는 배열

            restrictedCheckboxes.forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    if (this.checked) {
                        checkedOrder.push(this); // 체크 순서 추가

                        if (checkedOrder.length > 2) {
                            let firstChecked = checkedOrder.shift(); // 가장 먼저 체크된 박스를 해제
                            firstChecked.checked = false;
                        }
                    } else {
                        // 체크 해제 시 배열에서 제거
                        checkedOrder = checkedOrder.filter(cb => cb !== this);
                    }
                });
            });
        });
    </script>
</body>

</html>
