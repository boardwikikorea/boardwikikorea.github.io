<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>롱보드 대축제</title>

    <!-- SEO 최적화 -->
    <meta name="description" content="보드위키에서 최신 스케이트, 롱보드 정보와 롱보드댄싱, 보드대회 소식을 확인하세요.">
    <meta name="keywords" content="스케이트, 롱보드, 카버보드, 롱보드댄싱, 보드대회, longboarding, 롱보드 대축제, 롱보드 페스티벌, longboard festival">
    <meta name="naver-site-verification" content="e74dc3e49d0527046508b26ee9860c52a501b8f4">

    <!-- Open Graph (OG) -->
    <meta property="og:site_name" content="BoardWiki">
    <meta property="og:title" content="롱보드 대축제">
    <meta property="og:description" content="스케이트·롱보드 최신 정보를 확인하세요.">
    <meta property="og:url" content="https://boardwiki.kr">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://boardwiki.kr/images/og-image.jpg">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="보드위키 - 스케이트·롱보드 커뮤니티">
    <meta name="twitter:description" content="보드위키에서 최신 스케이트, 롱보드 정보를 만나보세요.">
    <meta name="twitter:image" content="https://boardwiki.kr/images/twitter-image.jpg">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://boardwiki.kr/">

    <!-- Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@400;700&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/common.css?ver=250418">
    <link rel="stylesheet" href="../css/festival.css?ver=250418">

    <!-- JS -->
    <script src="../js/common.js" defer></script>
</head>

<body id="festival">
    <h1 class="sound_only">롱보드 대축제</h1>

    <div class="language-switcher">
        <button type="button" class="active" id="btn-kr">KR</button>
        <button type="button" id="btn-en">EN</button>
    </div>


    <div class="lang_kr">
        <a href="http://pf.kakao.com/_iGCjn" class="kakao-button" target="_blank">
            <img src="https://developers.kakao.com/assets/img/about/logos/kakaotalksharing/kakaotalk_sharing_btn_medium.png" alt="카카오톡 로고">
            문의하기
        </a>
    </div>
    

    <div class="lang_en">
        <a href="https://www.instagram.com/board.wiki/" class="insta-button" target="_blank">
            <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png" alt="Instagram Logo" class="insta-icon">
            Contact Us
        </a>
    </div>

    <div class="wrap main">
        <article class="content">

                <div class="form-header">
                    <h2 class="lang_kr">대회 신청 & 애프터 파티 신청</h2>
                    <h2 class="lang_en">Application (Competition & After-party)</h2>
                    <a href="./index.html" class="close-btn">✖</a>
                </div>


                <section class="application">
                    <h3 class="sound_only">
                        대회 신청 내용
                    </h3>

                    
                    <br/>               
                    <p class="tip2">
                        <span class="lang_kr">
                            * 신청내용 변경 및 문의는 <a href="https://www.instagram.com/board.wiki/" target="_blank">@boardwiki</a> 또는 문의하기를 이용해주세요.
                        </span>
                        <span class="lang_en">
                            * For application changes or inquiries, please contact <a href="https://www.instagram.com/board.wiki/"  target="_blank">@boardwiki</a>
                        </span>
                    </p>

                    <br/>               
                    <p class="tip2">
                        <span class="lang_kr">
                            * 외국인 참가자의 경우, 참가비 30,000원은 현장에서 지불 가능하며, 접수 또한 현장에서 가능합니다.
                        </span>
                        <span class="lang_en">
                            * For foreign participants, the participation fee of 30,000 KRW can be paid on-site, and registration is also available on-site.
                        </span>
                    </p>
                    <br/>

                <form id="applicationForm" name="applicationForm" method="post">
                    <ul class="user_info">
                        <li>
                            <label for="name">이름 (name or nickname)</label>
                            <input type="text" id="name" name="name" required>
                            <p class="tip">
                                <span class="lang_kr">
                                    * 입금자 명으로 적어주세요! <br/>
                                    계좌번호 : 30,000원 우리은행 1005-603-527745.  신재식(롱보드코리아) <br/>
                                    신청 마감일 이후엔 환불이 불가능한점 안내드립니다.
                                </span>
                            </p>
                        </li>
                        <li>
                            <label for="contact">연락처 (phone) OR 메일 (email) OR instagram ID</label>
                            <input type="text" id="contact" name="contact" required>
                        </li>
                        <li>
                            <strong>성별 (gender)</strong>
                            <label><input type="radio" name="gender" value="male" required> 남자(male)</label>
                            <label><input type="radio" name="gender" value="female" required> 여자(female)</label>
                        </li>
                        <li>
                            <strong>스탠스 (stance)</strong>
                            <label><input type="radio" name="stance" value="regular" required> regular</label>
                            <label><input type="radio" name="stance" value="goofy" required> goofy</label>
                        </li>
                        <li>
                            <label for="team"><strong>소속 (Team or Group)</strong></label>
                            <input type="text" id="team" name="team">
                        </li>
                        <li class="line-bottom">
                            <label for="song"><strong>신청곡 (Song request)</strong></label>
                            <input type="text" id="song" name="song">
                            <p class="tip">
                                <span class="lang_kr">
                                    ※ 본인이 출전하는 부분에 자유롭게 음악을 적어주세요 ex. freestyle: a,b
                                 </span>
                                <span class="lang_en">
                                    ※ ※ Please freely specify the music for the category you are competing in.
                                    Example: Freestyle - A, B
                                </span>
                            </p>
                        </li>
                    </ul>

                    <ul class="user_pick">
                        <li>
                            <p class="tip2">
                                <span class="lang_kr">
                                    ※ 프리스타일, Best Dancing, Best Trick, Best G-turn 중 두 개를 선택할 수 있습니다.그 외의 종목은 자유롭게 선택할 수 있습니다.
                                </span>
                                <span class="lang_en">
                                    ※ You can choose two out of Freestyle, Best Dancing, Best Trick, and Best G-turn.Other categories can be chosen freely.
                                </span>
                            </p>
                        </li>


                        <li class="line-bottom">
                            <strong>프리스타일(Freestyle)</strong>
                            <ul>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="open"> 오픈부 (Open Division)</label>
                                    
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                        * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span>
                                        <span class="lang_en">
                                        Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="freestyle" value="newbie"> 뉴비부 (Newbie Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드를 탄 경력이 2년이하 남녀노소 참여가능, 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가
                                        </span>
                                        <span class="lang_en">
                                            Anyone, regardless of age or gender, with less than two years of boarding experience can participate.
                                    </span>
                                    </p>

                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>베스트댄싱(Best Dancing)</strong>
                            <p></p>
                            <ul>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_dancing" value="open"> 오픈부 (Open Division)</label>   
                                </li>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_dancing" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span>
                                        <span class="lang_en">
                                            Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <strong>베스트트릭(Best Trick)</strong>
                            <ul>
                                <li><label><input type="radio" name="best_trick" value="open"> 오픈부 (Open Division)</label></li>
                                <li class="flex_none">
                                    <label><input type="radio" name="best_trick" value="amateur"> 일반부 (Non-Sponsored Division)</label>
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 보드 관련 및 엠버서더나 공식 상품 후원을 받는 경우 참가 불가, 이전 페스티벌, 대축제 우승자 참가불가능
                                        </span>
                                        <span class="lang_en">
                                            Participants who receive sponsorships related to boards, including as ambassadors or for official products, are not eligible to participate. Previous winners of the festival or grand festival are also not eligible to participate.
                                        </span>
                                    </p>
                                </li>
                                <li class="flex_none">
                                    <label>기술이름</label>
                                    <input type="text" name="best_trick_name" value="" class="input_txt">
                                    <p class="tip">
                                        <span class="lang_kr">
                                            * 시도할 기술을 두 가지 적어주세요. 하나만 적을 경우, 두 번의 시도 모두 동일한 기술로 진행됩니다.
                                        </span>
                                        <span class="lang_en">
                                            * Please write down two tricks you will attempt. If you write only one, both attempts must use the same trick.
                                        </span>
                                    </p>
                                </li>
                            </ul>
                        </li>

                        
                        <li class="line-bottom"><label><input type="checkbox" name="best_gturn"> <strong>베스트G턴(Best G-trun)</strong></label></li>

                        <li>
                            <p class="tip2">
                                <span class="lang_kr">
                                    이벤트 종목은 선택 제한 없이 자유롭게 선택가능합니다.
                                </span>
                                <span class="lang_en">
                                    Event categories can be freely selected without any restrictions.
                                </span>
                            </p>
                        </li>

                        <li><label><input type="checkbox" name="best_pair"> <strong>베스트페어 (Best Pair)</strong></label></li>
                        <li><label><input type="checkbox" name="best_hand"> <strong>베스트핸드트릭 (Best Hand Trick)</strong></label></li>
                        <li class="line-bottom"><label><input type="checkbox" name="hippy_jump"> <strong>히피점프 (Hippie Jump)</strong></label></li>
                    </ul>


                    <ul style="border-bottom: 1px dashed #d9d9d9;padding-bottom: 20px;">
                        <li class="flex_none">
                            <img src="../images/party.jpg" style="width: 100%;height: auto;" alt="">
                            <p class="tip2">
                                <span class="lang_kr">
                                    대회 참여가 아닌 에프터 파티 참여만 가능합니다. <br/>
                                    참가 금액 : 15000원 계좌번호 : 30,000원 우리은행 1005-603-527745.  신재식(롱보드코리아)<br/>
                                    5월 17일 저녁 7시부터 <br/>
                                    선유도역 5번출구에서 도보 5분 (서울특별시 영등포구 선유로 259 건물 3층) <br/>
                                    <a href="https://place.map.kakao.com/781530253?code=302" target="_blank" style="margin-right: 5px;" rel="noopener noreferrer">지도보기</a> 
                                </span>
                                <span class="lang_en">
                                    Only after-party participation is available (not the main competition).<br/>
                                    From 7:00 PM on May 17 <br/>
                                    Participation Fee: 15,000 KRW<br/>
                                    5-minute walk from Exit 5 of Seonyudo Station <br/>
                                    3rd Floor, 259 Seonyu-ro, Yeongdeungpo-gu, Seoul <br/>
                                    <a href="https://maps.app.goo.gl/tDkpd6tcM8NFYXYB6" target="_blank" style="margin-right: 5px;" rel="noopener noreferrer">Map INFO</a> 
                                </span>
                            </p>
                            <div style="text-align: center;margin-top:10px;width:100%;">
                                <label>
                                    <input type="checkbox" name="after_party" id="after_party_checkbox">
                                    <strong>(After Party Join)</strong>
                                </label>
                            </div>
                            <div id="after_party_num_wrapper" style="text-align: center; margin-top:10px; display:none;">
                                <label>
                                    <span class="lang_kr">참가 인원 수:</span>
                                    <span class="lang_en">Number of participants:</span>
                                    <input type="number" name="after_party_num" min="1" max="10" style="width: 60px; border:1px solid #d9d9d9;border-radius: 5px;margin-left: 5px;padding: 0 5px;">
                                </label>
                            </div>
                        </li>
                    </ul>
                    <br/>

                    <p class="tip2" style="margin-top: 20px;">
                        <span class="lang_kr">참가 규정서를 확인하고 동의한 것으로 간주되며, 신청이 완료됩니다.즐겁고 안전한 롱보드 대축제가 되기를 기원합니다.</span>
                        <span class="lang_en">By submitting your application, you are considered to have read and agreed to the participation rules.We wish you a fun and safe Longboard Festival!</span>
                    </p>

                    <br/>

                    <button type="submit" class="btn submit">
                        <span class="lang_kr">
                            신청하기
                        </span>
                        <span class="lang_en">
                            Submit
                        </span>
                    </button>
                </form>
            </section>

        </article>

        <footer>
            서비스 제공 <a href="../index.html">@boardwiki</a>
        </footer>
    </div>

    <script type="module">
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-firestore.js";
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";
        //import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.4.0/firebase-analytics.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDDkghHYAD581-N3u8zUUsinS1F49P5xi0",
            authDomain: "boardwiki-e070e.firebaseapp.com",
            databaseURL: "https://boardwiki-e070e-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "boardwiki-e070e",
            storageBucket: "boardwiki-e070e.firebasestorage.app",
            messagingSenderId: "301441212066",
            appId: "1:301441212066:web:1ffff5d8eccaaff11781fb",
            measurementId: "G-DZ52LV9MMG"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        //const analytics = getAnalytics(app);
        const db = getFirestore(app);


        document.getElementById('after_party_checkbox').addEventListener('change', function () {
            const wrapper = document.getElementById('after_party_num_wrapper');
            wrapper.style.display = this.checked ? 'block' : 'none';
        });
        
        document.getElementById('applicationForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            if(confirm('제출하겠습니까?\nDo you want to submit?')){
                const form = e.target;
                const data = {
                    name: form.name.value.trim(),
                    contact: form.contact.value.trim(),
                    gender: form.gender.value,
                    stance: form.stance.value,
                    song: form.song.value,
                    team: form.team.value.trim() || null,
                    best_trick_name: form.best_trick_name.value.trim() || null,
                    freestyle: form.freestyle?.value ?? null,
                    best_dancing: form.best_dancing?.value ?? null,
                    best_trick: form.best_trick?.value ?? null,
                    best_gturn: form.best_gturn?.checked ?? false,
                    hippy_jump: form.hippy_jump?.checked ?? false,
                    best_hand: form.best_hand?.checked ?? false,
                    best_pair: form.best_pair?.checked ?? false,
                    after_party: form.after_party?.checked ?? false,
                    after_party_num: form.after_party_num.value?? 0,
                    createdAt: serverTimestamp()
                };

                if (!data.name || !data.contact || !data.gender || !data.stance) {
                    alert('모든 필수 항목을 입력해주세요.');
                    return;
                }

                try {
                    const docRef = await addDoc(collection(db, "festivalApplications"), data);
                    alert(`신청이 완료되었습니다! \nsuccessfully submitted!`);

                    window.location.href = `./myapp.html?id=${docRef.id}`;

                    //form.reset();
                } catch (error) {
                    console.error("Error submitting application:", error);
                    alert(`신청 중 오류 발생: ${error.message}`);
                }
            }else{
                return false;
            }
            
        });

    </script>

    <script>
        
        document.addEventListener("DOMContentLoaded", function() {

            const btnKr = document.getElementById("btn-kr");
            const btnEn = document.getElementById("btn-en");
            const krElements = document.querySelectorAll(".lang_kr");
            const enElements = document.querySelectorAll(".lang_en");

            function showKorean() {
                krElements.forEach(el => el.style.display = "block");
                enElements.forEach(el => el.style.display = "none");
                btnKr.classList.add("active");
                btnEn.classList.remove("active");
            }

            function showEnglish() {
                krElements.forEach(el => el.style.display = "none");
                enElements.forEach(el => el.style.display = "block");
                btnEn.classList.add("active");
                btnKr.classList.remove("active");
            }

            // 초기 상태 설정: 브라우저 언어 감지
            const userLang = navigator.language || navigator.userLanguage; // 사용자의 브라우저 언어 감지
            if (userLang.startsWith("ko")) {
                showKorean(); // 한국어이면 한국어 노출
            } else {
                showEnglish(); // 그 외에는 영어 노출
            }

            // 버튼 클릭 이벤트 설정
            btnKr.addEventListener("click", showKorean);
            btnEn.addEventListener("click", showEnglish);
        });

        document.addEventListener("DOMContentLoaded", function () {
            const restrictedCheckboxes = document.querySelectorAll('input[name="best_trick"], input[name="freestyle"], input[name="best_dancing"], input[name="best_gturn"]');

            let checkedOrder = []; // 체크된 순서를 저장하는 배열

            restrictedCheckboxes.forEach(checkbox => {
                checkbox.addEventListener("change", function () {
                    if (this.checked) {
                        checkedOrder.push(this); // 체크 순서 추가

                        if (checkedOrder.length > 2) {
                            let firstChecked = checkedOrder.shift(); // 가장 먼저 체크된 박스를 해제
                            firstChecked.checked = false;
                        }
                    } else {
                        // 체크 해제 시 배열에서 제거
                        checkedOrder = checkedOrder.filter(cb => cb !== this);
                    }
                });
            });
        });
    </script>
</body>

</html>
