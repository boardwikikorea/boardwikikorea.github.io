<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Signing inâ€¦</title>
  <meta name="robots" content="noindex, nofollow" />
</head>
<body>
<script type="module">
  import { createClient } from "https://esm.sh/@supabase/supabase-js@2"

  const supabase = createClient(
    "https://jmgdpmemnchutvcvnvvs.supabase.co",
    "sb_publishable_5Cms66C4XZurUozmhb0Wuw_mlPuEzXD"
  )

  // â³ Supabaseê°€ hash ì²˜ë¦¬ + storage write ëë‚¼ ì‹œê°„
  await new Promise((r) => setTimeout(r, 0))

  // ðŸ” ì„¸ì…˜ì´ ì‹¤ì œë¡œ ìƒê²¼ëŠ”ì§€ í™•ì¸
  const { data } = await supabase.auth.getSession()

  console.log("[oauth-callback] session:", data.session)

  // âœ… ì„¸ì…˜ì´ ìžˆìœ¼ë©´ SPA ì§„ìž…
  if (data.session) {
    location.replace("/")
  } else {
    // ì•ˆì „ë§ (ê±°ì˜ ì•ˆ íƒ)
    setTimeout(() => location.replace("/"), 300)
  }
</script>
</body>
</html>
